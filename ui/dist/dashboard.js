!function(e){function t(t){for(var a,c,o=t[0],l=t[1],s=t[2],m=0,p=[];m<o.length;m++)c=o[m],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&p.push(r[c][0]),r[c]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);for(u&&u(t);p.length;)p.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,o=1;o<n.length;o++){var l=n[o];0!==r[l]&&(a=!1)}a&&(i.splice(t--,1),e=c(c.s=n[0]))}return e}var a={},r={1:0},i=[];function c(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((function(t,a){n=r[e]=[t,a]}));t.push(n[2]=a);var i,o=document.createElement("script");o.charset="utf-8",o.timeout=120,c.nc&&o.setAttribute("nonce",c.nc),o.src=function(e){return c.p+""+({5:"tracker"}[e]||e)+".bundle.js"}(e);var l=new Error;i=function(t){o.onerror=o.onload=null,clearTimeout(s);var n=r[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+a+": "+i+")",l.name="ChunkLoadError",l.type=a,l.request=i,n[1](l)}r[e]=void 0}};var s=setTimeout((function(){i({type:"timeout",target:o})}),12e4);o.onerror=o.onload=i,document.head.appendChild(o)}return Promise.all(t)},c.m=e,c.c=a,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(n,a,function(t){return e[t]}.bind(null,a));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="",c.oe=function(e){throw console.error(e),e};var o=window.webpackJsonp=window.webpackJsonp||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var s=0;s<o.length;s++)t(o[s]);var u=l;i.push([223,0]),n()}({151:function(e,t,n){},223:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(28),c=(n.p,n(151),n(31)),o=n(1),l=n.n(o),s=n(18),u=n.n(s),m=n(21),p=n(5),d=n.n(p),f=n(29),g=n(2),b=n.n(g),v=n(10),E=n.n(v),y=n(61),O=function(e){var t=Object(a.useState)(e),n=b()(t,2),r=n[0],i=n[1];return[r,function(){i(!r)}]},h=n(43),j=function(e){return 1===e.progressRatio&&!e.next},w=n(15);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=function(e,t){return e.find((function(e){return function(e,t){return e.qid===t.qid}(e,t)}))||{id:null,qid:null,start:null,next:null,pending:null}},q=function(e,t){return k(e,t).pending},N=function(e,t){var n=e.findIndex((function(e){return e.qid===t.qid})),a=e[n+1];return a?{qid:a.qid,id:a.id}:{}},R=function(e,t){switch(t.type){case"add":var n="".concat(e.queue.length,"-").concat(t.item.id);return{active:e.active.hasOwnProperty("qid")?e.active:{id:t.item.id,qid:n},queue:[].concat(E()(e.queue),[P({progressRatio:0,qid:n},t.item)])};case"request":return P({},e,{queue:e.queue.map((function(e){return e.qid===t.item.qid?P({},e,d()({pending:!0},t.item.link,null)):e}))});case"update":return{active:t.item.next?e.active:N(e.queue,e.active,t.item),queue:e.queue.map((function(e){return e.qid===t.item.qid?P({},e,{start:null,next:null,pending:!1},t.item):e}))};case"cleanup":return P({},e,{queue:e.queue.filter((function(e){return(e.start||e.next||e.pending)&&1!==e.progressRatio}))});case"remove":return{active:e.active&&e.active.qid===t.qid?N(e.queue,e.active):e.active,queue:e.queue.filter((function(e){return e.qid!==t.qid}))};case"clear":return q(e.queue,e.active)?P({},e,{queue:e.queue.filter((function(e){return e.pending}))}):{active:{},queue:[]};default:return e}},T=function(){var e=Object(a.useContext)(w.c).throwError,t=O(!0),n=b()(t,2),r=n[0],i=n[1],c=O(!1),o=b()(c,2),l=o[0],s=o[1],u=Object(a.useReducer)(R,{queue:[],active:{}}),m=b()(u,2),p=m[0],d=m[1],f=p.queue,g=p.active,v=k(f,g),E=v.start,_=v.next,P=v.pending,N=Object(y.a)({deferFn:h.d}),T=N.data,x=N.run;Object(a.useEffect)((function(){T&&d({type:"update",item:T})}),[T]),Object(a.useEffect)((function(){if(E&&r&&!l){var t=k(f,g),n=t.qid,a=t.start.href;P||(d({type:"request",item:{qid:n,link:"start"}}),x({method:"POST",href:a,qid:n,throwError:e}))}}),[E,r]),Object(a.useEffect)((function(){if(_&&r&&!l){var t=k(f,g),n=t.qid,a=t.next.href;P||(d({type:"request",item:{qid:n,link:"next"}}),x({method:"GET",href:a,qid:n,throwError:e}))}}),[_,r]),Object(a.useEffect)((function(){l&&d({type:"clear"})}),[l,P]),Object(a.useEffect)((function(){0!==f.length||r||i()}),[f.length]);var C=function(e){return e.every(j)}(f),S=q(f,g);return{active:g,queue:f,addToQueue:function(e){l&&s(),d({type:"add",item:e})},removeFromQueue:function(e){d({type:"remove",qid:e})},cleanupQueue:function(){d({type:"cleanup"})},isQueueRunning:r,setQueueRunning:i,setQueueClear:function(){l||s()},isQueueStopped:l,isQueueCompleted:C,isActivePending:S}},x=n(62),C=n(48),S=n(3),D=n(78),F=n(9),I=n.n(F),L=n(11),Q=n.n(L),M=n(40),A=n.n(M),z=n(13),H=n.n(z),U=n(7),V=n.n(U),W=n(14),B=n.n(W);function G(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var J=function(e){B()(a,e);var t,n=(t=a,function(){var e,n=V()(t);if(G()){var a=V()(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return H()(this,e)});function a(){return I()(this,a),n.apply(this,arguments)}return Q()(a,[{key:"withValue",value:function(e){return new a({name:this.name,value:e})}},{key:"test",value:function(e){return A()(V()(a.prototype),"test",this).call(this,[e.label])}}]),a}(n(79).a);function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $=function(e,t){var n=e.id,a=e.attributes,r=e.relationships,i=e.links,c=a.label,o=a.lastImported,l=a.processedCount,s=a.importedCount,u=a.totalCount,m=a.completed,p=a.skipped,d=r.dependencies,f=r.consistsOf,g={importedCount:Object(S.x)(s,u),processedCount:Object(S.x)(l,u),totalCount:u},b=Object(S.y)(Y({},g,{completed:m,skipped:p,links:i}));return Y({id:n,index:t,label:c,status:b,lastImported:o},g,{completed:m,skipped:p,dependencies:d.data.map((function(e){var t=e.meta.dependencyReasons;return{id:e.id,dependencyReasons:t}})),consistsOf:f.data.map((function(e){return{id:e.id}})),links:i})},X=[{name:"active",title:"In Progress",path:"/",to:"./",initialized:!1,columns:["actions","name","status","imported","messages","ops"],currentRows:[],filter:S.d,sort:S.E},{name:"needs-review",title:"Needs Review",path:"needs-review",to:"needs-review",initialized:!1,columns:["actions","name","imported","messages","lastImported","ops"],currentRows:[],filter:S.c,sort:S.F},{name:"completed",title:"Completed",path:"completed",to:"completed",initialized:!1,columns:["actions","name","imported","messages","lastImported","ops"],currentRows:[],filter:function(e){return e.filter((function(e){return e.completed}))},sort:S.F},{name:"skipped",title:"Skipped",path:"skipped",to:"skipped",initialized:!1,columns:["name","imported","messages","ops"],currentRows:[],filter:function(e){return e.filter((function(e){return e.skipped}))},sort:S.E}],Z=function(e,t,n,a,r,i){return{id:e,label:t,index:r,lastImported:i,page:n,status:a}},ee=function(e,t){if("remove"===t.type)return e.map((function(e){return e.name===t.page?function(e,t){return Y({},e,{currentRows:e.currentRows.filter((function(e){return e.id!==t}))})}(e,t.id):e}));if("reset"===t.type){var n=e.find((function(e){return e.name===t.page})).currentRows.filter((function(e){return"new"===e.status})).map((function(e){return e.id}));return e.map((function(e){return e.name===t.page?function(e){return Y({},e,{currentRows:E()(e.currentRows.map((function(e){return"new"===e.status?Y({},e,{status:"initial"}):e})))})}(e):function(e,t){var n=e.currentRows.filter((function(e){return t.includes(e.id)&&"removed"===e.status})).map((function(e){return e.id}));return n.length?Y({},e,{currentRows:e.currentRows.filter((function(e){return!n.includes(e.id)}))}):e}(e,n)}))}var a,r;return a=e,r=t.migrations,a.reduce((function(e,t){var n=t.filter(r);if(0!==t.currentRows.length||a.every((function(e){return e.initialized}))){var i=t.currentRows.filter((function(e){return"removed"!==e.status})).map((function(e){return e.id})),c=n.map((function(e){return e.id})),o=i.filter((function(e){return!c.includes(e)})),l=c.filter((function(e){return!i.includes(e)}));l.length&&(t.currentRows=t.sort([].concat(E()(t.currentRows),E()(n.filter((function(e){return l.includes(e.id)})).map((function(e){return Z(e.id,e.label,t.name,"new",e.index,e.lastImported)})))))),o.length&&(t.currentRows=t.sort(t.currentRows.map((function(e){return o.includes(e.id)?Y({},e,{status:"removed"}):e}))))}else t.currentRows=t.sort(n.map((function(e){return Z(e.id,e.label,t.name,"initial",e.index,e.lastImported)})));return t.activeCount=t.currentRows.filter((function(e){return"removed"!==e.status})).length,t.initialized||(t.initialized=!0),[].concat(E()(e),[t])}),[])},te=r.a.createContext({}),ne=function(e){var t=e.basepath,n=e.source,i=e.children,c=Object(a.useState)([]),o=b()(c,2),l=o[0],s=o[1],u=Object(a.useState)({}),m=b()(u,2),p=m[0],d=m[1],f=Object(D.a)({searchTitle:new J({name:"searchTitle",value:""})}),g=f.limiters,v=f.updateLimiter,E=Object(a.useReducer)(ee,X),y=b()(E,2),O=y[0],j=y[1],_=T(),P=_.active,k=_.queue,q=_.addToQueue,N=_.removeFromQueue,R=_.cleanupQueue,S=_.isQueueRunning,F=_.setQueueRunning,I=_.setQueueClear,L=_.isQueueStopped,Q=_.isQueueCompleted,M=_.isActivePending,A=Object(x.a)(p).bulkUpdateMigrations,z=Object(a.useContext)(w.c).throwError,H=Object(C.a)({href:n,handleError:z}),U=H.isLoading,V=H.document;Object(a.useEffect)((function(){V&&(d(V.links),s(V.data.map($)))}),[V]),Object(a.useEffect)((function(){l.length&&j({type:"update",migrations:l})}),[l]);return r.a.createElement(te.Provider,{value:{lists:O,links:p,migrations:l,limiters:g,updateLimiter:v,updateMigration:function(e,t){t.data&&Object(h.b)({href:e,payload:{data:t.data}})},removeFromList:function(e,t,n){j({type:"remove",id:e,page:t}),n&&N(n.qid)},resetList:function(e){j({type:"reset",page:e}),R()},active:P,queue:k,addToQueue:q,removeFromQueue:N,isQueueRunning:S,setQueueRunning:F,setQueueClear:I,isQueueStopped:L,isQueueCompleted:Q,isActivePending:M,basepath:t,isLoading:U,bulkUpdateMigrations:A}},i)};ne.propTypes={basepath:l.a.string.isRequired,source:l.a.string.isRequired,children:l.a.oneOfType([l.a.arrayOf(l.a.node),l.a.node]).isRequired};var ae=function(e){var t=e.id,n=e.previewable,i=e.children,o=Object(a.useContext)(te).basepath;return r.a.createElement("div",{className:"migration__title"},r.a.createElement(c.a,{title:i,to:"".concat(o,"/migration/").concat(t).concat(n?"/preview":"")},i))},re=ae;ae.propTypes={id:l.a.string.isRequired,previewable:l.a.bool,children:l.a.string},ae.defaultProps={previewable:!1,children:""};var ie=function(e){var t=e.one,n=e.two;return r.a.createElement("div",{className:"layout-row clearfix"},r.a.createElement("div",{className:"layout-column layout-column--half"},t),r.a.createElement("div",{className:"layout-column layout-column--half"},n))},ce=ie;ie.propTypes={one:l.a.oneOfType([l.a.arrayOf(l.a.node),l.a.node]),two:l.a.oneOfType([l.a.arrayOf(l.a.node),l.a.node])},ie.defaultProps={one:null,two:null};var oe=function(e){var t=e.header,n=e.padding,a=e.children;return r.a.createElement("div",{className:"panel"},t&&r.a.createElement("h3",{className:"panel__title"},t),n?r.a.createElement("div",{className:"panel__content"},a):a)},le=oe;oe.propTypes={header:l.a.oneOfType([l.a.arrayOf(l.a.node),l.a.node]),padding:l.a.bool,children:l.a.oneOfType([l.a.arrayOf(l.a.node),l.a.node]).isRequired},oe.defaultProps={header:null,padding:!0};var se=function(e){var t=e.dependencies,n=e.consistsOf,i=e.track;return Object(a.useEffect)((function(){i("User viewed details")}),[]),r.a.createElement(ce,{one:r.a.createElement(le,{header:"Dependencies"},t.length?r.a.createElement("ul",{className:"migration__details_dependencies admin-list--panel admin-list"},t.map((function(e){return r.a.createElement("li",{key:e.id,className:"admin-item--panel"},r.a.createElement("h5",null,r.a.createElement(re,{id:e.id},e.label)),e.dependencyReasons&&r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"".concat(e.id,"-migrations")},"Because of:"),r.a.createElement("ul",{id:"".concat(e.id,"-migrations")},e.dependencyReasons.map((function(t){return r.a.createElement("li",{key:"".concat(e.id,"-").concat(t)},r.a.createElement("code",null,t))})))))}))):r.a.createElement("div",{className:"messages messages--warning"},r.a.createElement("p",null,"No dependencies found."))),two:r.a.createElement(le,{header:"Underlying Migrations"},n.length?r.a.createElement("ul",{className:"migration__details_underlying admin-list--panel admin-list"},n.map((function(e){return r.a.createElement("li",{key:e.id,className:"admin-item--panel"},r.a.createElement("code",null,e.id))}))):r.a.createElement("p",null,r.a.createElement("em",null,"No underlying migrations listed.")))})},ue=se;se.propTypes={dependencies:l.a.arrayOf(l.a.shape({id:l.a.string})),consistsOf:l.a.arrayOf(l.a.shape({id:l.a.string})),track:l.a.func},se.defaultProps={dependencies:[],consistsOf:[],track:function(){}};var me=n(77),pe=n.n(me),de=function(e){var t=e.value;return Object(S.z)(t).split("; ").map((function(e,t){return r.a.createElement("code",{key:t},e)}))},fe=function(e){var t=e.row;return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("code",null,t.sourceFieldName)," →"," ",r.a.createElement("code",null,t.destinationFieldName)),r.a.createElement("td",null,r.a.createElement(de,{value:t.sourceValueSimplified})),r.a.createElement("td",null,r.a.createElement(de,{value:t.destinationValueSimplified})))},ge=function(e){var t=e.list;return r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Mapping"),r.a.createElement("th",null,"Source"),r.a.createElement("th",null,"Destination"))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement(fe,{key:"".concat(e.sourceFieldName,"-").concat(e.destinationFieldName),row:e})}))))},be=ge;de.propTypes={value:l.a.oneOfType([l.a.array,l.a.string])},de.defaultProps={value:""},fe.propTypes={row:l.a.shape({sourceFieldName:l.a.string,sourceValue:l.a.any,sourceValueSimplified:l.a.any,destinationFieldName:l.a.string,destinationValue:l.a.any,destinationValueSimplified:l.a.any}).isRequired},ge.propTypes={list:l.a.arrayOf(l.a.shape({sourceFieldName:l.a.string,sourceValue:l.a.any,sourceValueSimplified:l.a.any,destinationFieldName:l.a.string,destinationValue:l.a.any,destinationValueSimplified:l.a.any}))},ge.defaultProps={list:[]};var ve=function(e){var t=e.html;return r.a.createElement("div",{className:"migration_preview__live"},r.a.createElement("iframe",{srcDoc:t,title:"Content preview"}))},Ee=ve;ve.propTypes={html:l.a.string.isRequired};var ye=n(25),Oe=n(12),he=n(45),je=function(e){var t=e.id,n=e.href,a=e.title,i=e.setHref,c=e.setEvent;return r.a.createElement("a",{className:"".concat(t," button button--small"),role:"button",href:"#",onClick:function(e){e.preventDefault(),i(n),c({type:"User previewed row",migrationPreviewQuery:Object(Oe.b)(n)})}},a)},we=function(e){var t=e.link,n=e.setHref,i=e.setEvent,c=e.offsetLinks,o=Object(a.useState)(""),l=b()(o,2),s=l[0],u=l[1],m=t["uri-template:suggestions"][0],p=m.label,f=m.variable;return r.a.createElement("form",{className:"exposed-form exposed-form--labeled",onSubmit:function(e){e.preventDefault(),i({type:"User previewed by search",migrationPreviewSearchTerm:s}),n(Object(Oe.a)(d()({},f,s),t["uri-template:href"]))}},r.a.createElement(he.a,{name:"preview_search",label:p,size:"40",type:"search",value:s,validation:{pattern:"(https?://|^/)(.*)"},onChange:function(e){u(e.target.value)}},"Source site URL should be either ",r.a.createElement("em",null,"relative")," (begin with"," ",r.a.createElement("code",null,"/"),")",r.a.createElement("br",null),"or ",r.a.createElement("em",null,"absolute")," (begin with ",r.a.createElement("code",null,"http://"),")"),r.a.createElement("div",{className:"form-actions form-item exposed-form__item--actions"},r.a.createElement("input",{type:"submit",className:"button form-submit",value:"Go"})),r.a.createElement("div",{className:"form-item exposed-form__item--divider"},r.a.createElement("strong",null,"or")),r.a.createElement("div",{className:"form-item"},r.a.createElement("label",{className:"form-item__label"},"Browse available rows"),r.a.createElement("div",{className:"migration__preview__links",role:"group","aria-label":"Offset rows"},c.map((function(e){var t=e.id,a=e.href,c=e.title;return r.a.createElement(je,{key:"offset-".concat(t),id:t,href:a,title:c,setHref:n,setEvent:i})})))))},_e=we;function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}je.propTypes={id:l.a.string.isRequired,href:l.a.string.isRequired,title:l.a.oneOfType([l.a.string,l.a.node]).isRequired,setHref:l.a.func.isRequired,setEvent:l.a.func},je.defaultProps={setEvent:function(){}},we.propTypes={link:l.a.shape({rel:l.a.string,href:l.a.string,title:l.a.string,"uri-template:href":l.a.string,"uri-template:suggestions":l.a.arrayOf(l.a.object)}).isRequired,offsetLinks:l.a.arrayOf(l.a.object),setHref:l.a.func.isRequired,setEvent:l.a.func},we.defaultProps={offsetLinks:[],setEvent:function(){}};var qe=function(e,t){var n=t.href;return Object(S.n)({href:n})},Ne=function(e){var t=e.links,n=e.track,i=ke({},t["preview-by-offset"],{id:"next"}),c=t["preview-by-url"],o=Object(a.useState)([i]),l=b()(o,2),s=l[0],u=l[1],m=Object(a.useState)({raw:[],html:""}),p=b()(m,2),d=p[0],f=p[1],g=Object(a.useState)(i.href),v=b()(g,2),E=v[0],O=v[1],h=Object(a.useState)({type:"User previewed row",migrationPreviewQuery:Object(Oe.b)(i.href)}),j=b()(h,2),w=j[0],_=j[1],P=Object(y.a)({deferFn:qe,href:E}),k=P.data,q=P.run;if(Object(a.useEffect)((function(){E&&q()}),[E]),Object(a.useEffect)((function(){if(k){var e="";if(k instanceof Error)e=k.message,console.error(k),E!==i.href&&O(i.href);else{e="OK";var t=k.data,a=t.attributes,r=t.links;u(r?Object.entries(r).map((function(e){var t=b()(e,2),n=t[0];return ke({},t[1],{id:n})})):[i]),f(a)}!function(e){if(w){var t=w.type,a=pe()(w,["type"]);n(t,ke({},a,{migrationPreviewResponse:e})),_(null)}}(e)}}),[k]),!k)return r.a.createElement(ye.a,{message:"Loading…"});if(d){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Preview source site content in Drupal 9 by searching for a URL or by viewing the next available row."),r.a.createElement(_e,{link:c,setHref:O,setEvent:_,offsetLinks:s}),r.a.createElement(ce,{one:r.a.createElement(le,{padding:!1},r.a.createElement(be,{list:d.raw})),two:r.a.createElement(le,{header:"Content Preview",padding:!1},r.a.createElement(Ee,{html:d.html}))}))}},Re=function(e){var t=e.preview;return r.a.createElement("div",{className:"migration__preview--no-preview"},Object.entries(t).map((function(e){var t=b()(e,2),n=t[0],a=t[1];return r.a.createElement("div",{key:n,className:"messages messages--warning"},r.a.createElement("p",null,a.title))})))},Te=function(e){var t=e.preview,n=e.track;return r.a.createElement("div",{className:"migration__preview"},Object.values(t.links).length>0?r.a.createElement(Ne,{links:t.links,track:n}):r.a.createElement(Re,{preview:t.unmet}))},xe=Te;Ne.propTypes={links:l.a.shape({"preview-by-offset":l.a.object,"preview-by-url":l.a.object}).isRequired,track:l.a.func},Re.propTypes={preview:l.a.objectOf(l.a.object).isRequired},Te.propTypes={preview:l.a.shape({links:l.a.object,unmet:l.a.object}).isRequired,track:l.a.func},Ne.defaultProps={track:function(){}},Te.defaultProps={track:function(){}};var Ce=n(105),Se=n.n(Ce),De=function(e){var t=e.button,n=e.className,a=e.action,i=t.title,c=t.rel;return r.a.createElement("a",{title:i,rel:c,className:n,role:"button",onClick:function(e){e.preventDefault(),a()}},i)},Fe=De;function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}De.propTypes={button:l.a.shape({title:l.a.string.isRequired,rel:l.a.string.isRequired}).isRequired,className:l.a.string,action:l.a.func},De.defaultProps={className:"",action:function(){}};var Qe=function(){return r.a.createElement("td",null,"— —")},Me=function(e){var t=e.mapping,n=t.sourceFieldName,a=t.destinationFieldName,i=t.destinationFieldType,c=t.destinationFieldLabel,o=t.destinationFieldIsRequired,l=t.migrationProcessPlugins_THIS_WILL_CHANGE,s=t.overrides,u=n?r.a.createElement("td",null,r.a.createElement("code",null,n)):r.a.createElement(Qe,null),m=a?r.a.createElement(r.a.Fragment,null,r.a.createElement("td",{className:"migration__mapping_destination_fields"},r.a.createElement("code",null,a),r.a.createElement("p",null,c,o?r.a.createElement("abbr",{title:"Required Field"},"*"):"")),r.a.createElement("td",null,r.a.createElement("em",null,i))):r.a.createElement(r.a.Fragment,null,r.a.createElement(Qe,null),r.a.createElement(Qe,null)),p=l?r.a.createElement("td",null,r.a.createElement("code",null,Object(S.z)(l))):r.a.createElement(Qe,null),d=s.length?r.a.createElement("td",null,s.map((function(e){return r.a.createElement(Fe,{key:"$override-{override.label}",button:{title:e.title,rel:e.rel},className:"button",action:e.action})}))):null;return r.a.createElement("tr",null,u,m,p,d)},Ae=function(e){var t=e.links,n=e.unmet,a=e.update;return r.a.createElement("div",{className:"mapping__updates"},r.a.createElement("ul",{className:"nav"},t.map((function(e){return r.a.createElement("li",{key:e.title},r.a.createElement(Fe,{button:{title:e.title,rel:e.rel},className:"button",action:function(){return a(e.href,e.params)}}))}))),n.map((function(e){return r.a.createElement("div",{key:e.href,className:"messages messages--warning"},r.a.createElement("p",null,e.title))})))},ze=function(e){var t=e.mapping,n=e.track;Object(a.useEffect)((function(){n("User viewed mapping")}),[]);var i=Object(y.a)({promiseFn:S.n,href:t.href}),c=i.data,o=i.isPending,l=i.reload,s=function(e,t){var a={"Skip source field":{type:"User skipped field",value:"migrationDestinationFieldName"}};a[e]&&n(a[e].type,d()({},a[e].value,t))};if(!t.href)return r.a.createElement("div",{className:"migration__mapping migration__mapping--no-mapping"},r.a.createElement("div",{className:"messages messages--warning"},"No Mapping information available."));if(o)return r.a.createElement(ye.a,{message:"Loading…"});if(c instanceof Error)return r.a.createElement("div",{className:"migration__mapping migration__mapping--has-error"},r.a.createElement("div",{className:"messages messages--error"},r.a.createElement("p",null,"Error: ",c.message),r.a.createElement("p",null,t.href)));var u=function(e){Object(h.c)({href:e,payload:{}}).then((function(){l()}))},m=c.data,p=m.attributes,f=m.links,g=Object(S.q)(f),v=Object(S.p)(f),O=Object(S.i)(f),j=Object.entries(p).filter((function(e){var t=b()(e,2)[1];return"object"===Se()(t)})).reduce((function(e,t){var n=b()(t,2),a=n[0],r=n[1],i=Object.entries(r).map((function(e){var t=b()(e,2),n=t[0],r=t[1],i="".concat(a,"-").concat(n);return O?{key:i,value:Le({},r,{overrides:Object(Oe.d)(r,O,u,s)})}:{key:i,value:r}}));return[].concat(E()(e),E()(i))}),[]);return r.a.createElement("div",{className:"migration__mapping"},r.a.createElement(Ae,{links:g,unmet:v,update:function(e,t){t.data&&Object(h.b)({href:e,payload:{data:t.data}}).then((function(){l()}))}}),r.a.createElement("div",null,r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Source Field"),r.a.createElement("th",null,"Destination Field"),r.a.createElement("th",null,"Field Type"),r.a.createElement("th",null,"Process Plugins"),r.a.createElement("th",null,!!O.length&&"Operations"))),r.a.createElement("tbody",null,j.map((function(e){var t=e.key,n=e.value;return r.a.createElement(Me,{key:t,mapping:n})}))))))},He=ze;Me.propTypes={mapping:l.a.shape({sourceFieldName:l.a.string,destinationFieldName:l.a.string,destinationFieldType:l.a.string,destinationFieldLabel:l.a.string,destinationFieldIsRequired:l.a.bool,migrationProcessPlugins_THIS_WILL_CHANGE:l.a.array,overrides:l.a.array}).isRequired},Ae.propTypes={links:l.a.arrayOf(l.a.object),unmet:l.a.arrayOf(l.a.object),update:l.a.func.isRequired},Ae.defaultProps={links:[],unmet:[]},ze.propTypes={mapping:l.a.shape({href:l.a.string,rel:l.a.string,title:l.a.string}),track:l.a.func},ze.defaultProps={mapping:{href:"",rel:"",title:""},track:function(){}};var Ue=n(30),Ve=n(38),We=n(19),Be=n(26),Ge=n(64),Je=n(49),Ke=function(e){var t=e.title,n=e.pending;return r.a.createElement("div",{className:"container-fluid"},r.a.createElement(f.a,null,r.a.createElement(Ve.a,null,r.a.createElement(We.a,null,r.a.createElement(Be.a,{href:"../../",title:"Home"},"Home")),r.a.createElement(We.a,null,r.a.createElement("span",null,"Migrations"))),r.a.createElement(Ue.a,{title:t}),n?r.a.createElement(ye.a,{message:"Loading…"}):r.a.createElement("p",null,"No valid migrations found.")))},Ye=Ke;Ke.propTypes={title:l.a.string.isRequired,pending:l.a.bool.isRequired};var $e=n(50),Xe=function(e){var t=e.active,n=e.amount,a=t?"swooshy--is-swooshing":"",i=Object($e.b)({amount:n}),c=parseInt(n,10),o="translateY(-".concat(c<100?c:100,"%)");return r.a.createElement("div",{className:"swooshy ".concat(a)},r.a.createElement("div",{className:"swooshy__inner"},r.a.createElement("div",{className:"swooshy__fill",style:{transform:o}}),r.a.createElement("div",{className:"swooshy__amount"},r.a.createElement($e.a.span,null,i.amount.interpolate((function(e){return parseFloat(e).toFixed(2)}))),"%")))},Ze=Xe;Xe.propTypes={active:l.a.bool,amount:l.a.string},Xe.defaultProps={active:!1,amount:"0.00"};var et=function(){var e=document.getElementsByTagName("body")[0],t=Object(a.useState)(parseInt(e.style.paddingTop,10)),n=b()(t,2),r=n[0],i=n[1];return Object(a.useEffect)((function(){var t=new MutationObserver((function(){i(parseInt(e.style.paddingTop,10))}));return t.observe(e,{attributes:!0,attributeFilter:["style"]}),function(){t.disconnect()}}),[]),r},tt=function(e){var t=e.isPending,n=e.isRunning,a=e.isStopped;return r.a.createElement("span",null,!n&&(t?"Pausing queue, waiting on response":"Queue paused"),a&&(t?"Stopping queue, waiting on response":"Queue stopped"))},nt=function(){return r.a.createElement("span",null,"No queued migrations")},at=function(){var e=Object(a.useContext)(te),t=e.queue,n=e.isActivePending,i=e.isQueueRunning,c=e.isQueueStopped;return r.a.createElement("div",{className:"migration_info__queue_status"},t.length?r.a.createElement(tt,{isPending:n,isRunning:i,isStopped:c}):r.a.createElement(nt,null))};tt.propTypes={isPending:l.a.bool,isRunning:l.a.bool,isStopped:l.a.bool},tt.defaultProps={isPending:!1,isRunning:!1,isStopped:!1};var rt=function(e){switch(e.icon){case"alert-triangle":return r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),r.a.createElement("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),r.a.createElement("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"}));case"cancel":return r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{strokeWidth:"1.5",d:"M7 17L17 7"}),r.a.createElement("path",{strokeWidth:"1.5",d:"M7 7L17 17"}),r.a.createElement("circle",{strokeWidth:"1.5",cx:"12",cy:"12",r:"7.25"}));case"check-circle":return r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),r.a.createElement("polyline",{points:"22 4 12 14.01 9 11.01"}));case"x-circle":return r.a.createElement(r.a.Fragment,null,r.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),r.a.createElement("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),r.a.createElement("line",{x1:"9",y1:"9",x2:"15",y2:"15"}));case"minus-circle":return r.a.createElement(r.a.Fragment,null,r.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),r.a.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}));case"circle":return r.a.createElement("circle",{strokeWidth:"1.5",cx:"12",cy:"12",r:"7.25"});case"clock":return r.a.createElement(r.a.Fragment,null,r.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),r.a.createElement("polyline",{points:"12 6 12 12 16 14"}));case"chevron-down":return r.a.createElement("polyline",{points:"6 9 12 15 18 9"});case"delete":return r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M21 4H8l-7 8 7 8h13a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z"}),r.a.createElement("line",{x1:"18",y1:"9",x2:"12",y2:"15"}),r.a.createElement("line",{x1:"12",y1:"9",x2:"18",y2:"15"}));case"eye":return r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),r.a.createElement("circle",{cx:"12",cy:"12",r:"3"}));case"eye-off":return r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),r.a.createElement("line",{x1:"1",y1:"1",x2:"23",y2:"23"}));case"loader":return r.a.createElement(r.a.Fragment,null,r.a.createElement("line",{x1:"12",y1:"2",x2:"12",y2:"6"}),r.a.createElement("line",{x1:"12",y1:"18",x2:"12",y2:"22"}),r.a.createElement("line",{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"}),r.a.createElement("line",{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"}),r.a.createElement("line",{x1:"2",y1:"12",x2:"6",y2:"12"}),r.a.createElement("line",{x1:"18",y1:"12",x2:"22",y2:"12"}),r.a.createElement("line",{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"}),r.a.createElement("line",{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"}));case"more-vertical":return r.a.createElement(r.a.Fragment,null,r.a.createElement("circle",{cx:"12",cy:"12",r:"1"}),r.a.createElement("circle",{cx:"12",cy:"5",r:"1"}),r.a.createElement("circle",{cx:"12",cy:"19",r:"1"}));case"pause":return r.a.createElement(r.a.Fragment,null,r.a.createElement("rect",{x:"6",y:"4",width:"4",height:"16"}),r.a.createElement("rect",{x:"14",y:"4",width:"4",height:"16"}));case"play":return r.a.createElement("polygon",{points:"5 3 19 12 5 21 5 3"});case"square":return r.a.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"});case"zap":return r.a.createElement("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"})}},it=function(e){var t=e.icon,n=e.size;return r.a.createElement("svg",{viewBox:"0 0 24 24",width:"".concat(n,"px"),height:"".concat(n,"px"),fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",focusable:"false"},r.a.createElement(rt,{icon:t}))},ct=it;rt.propTypes={icon:l.a.string.isRequired},it.propTypes={icon:l.a.string.isRequired,size:l.a.string},it.defaultProps={size:"24"};var ot=function(){var e=Object(a.useContext)(te),t=e.queue,n=e.isQueueRunning,i=e.setQueueRunning,c=e.setQueueClear,o=e.isQueueStopped,l=!!t.length;return r.a.createElement("div",{className:"migration_info__queue_controls"},r.a.createElement("button",{className:"button button--small",title:"Stop and clear the queue",type:"button",onClick:function(){c()},disabled:o||!l},r.a.createElement(ct,{icon:"square",size:"16"})),r.a.createElement("button",{className:"button button--small",title:n?"Pause queue":"Continue queue",type:"button",disabled:!l,onClick:function(){i()}},r.a.createElement(ct,{icon:n?"pause":"play",size:"16"})))};function lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var st=function(e,t){return e.reduce((function(e,n){return e+n[t]}),0)},ut=function(e){var t=e.href,n=e.title;return r.a.createElement("a",{href:t,title:n,className:"admin-item__link"},n)},mt=function(e){var t,n=e.migrations,i=Object(a.useContext)(te),c=i.active,o=i.links,l=et(),s=Object(S.A)(n),u=st(n,"importedCount"),m=st(n,"totalCount"),p=1===n.length,f=p?{label:(t=n[0]).label,infoLinks:t.links}:{label:null,infoLinks:o},g=f.label,v=f.infoLinks,E=Object.entries(v).filter((function(e){return"text/html"===b()(e,2)[1].type})).map((function(e){var t,n,a=b()(e,2),r=a[0],i=a[1],c=((n={"https://github.com/acquia/acquia_migrate#link-rel-migration-messages":{title:"Total errors: ".concat((t=i).title)}}).hasOwnProperty(t.rel)?n[t.rel]:{title:t.title}).title;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lt(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:r},i,{title:p?c:i.title})})),y=c.hasOwnProperty("id"),O="Data ".concat(y?"importing":"imported");return Object(a.useEffect)((function(){document.documentElement.style.setProperty("--offset-top","".concat(l,"px"))}),[l]),r.a.createElement("div",{className:"migration_info"},r.a.createElement(Ze,{active:y,amount:Object(S.C)(s)}),r.a.createElement("div",{className:"migration_info__data"},r.a.createElement("h5",{className:"migration_info__title"},O,g?" (".concat(g,")"):"",r.a.createElement("span",null,":"," ",r.a.createElement("span",{className:"tabular"},u,"/",m))),r.a.createElement("ul",{className:"migration_info__list"},E.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(ut,{title:e.title,href:e.href}))}))),!p&&r.a.createElement("div",{className:"migration_info__queue"},r.a.createElement(at,null),r.a.createElement(ot,null))))},pt=mt;function dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}ut.propTypes={title:l.a.string.isRequired,href:l.a.string.isRequired},mt.propTypes={migrations:l.a.arrayOf(l.a.shape({id:l.a.string,index:l.a.number,label:l.a.string,consistsOf:l.a.arrayOf(l.a.object),dependencies:l.a.arrayOf(l.a.object),lastImported:l.a.object,links:l.a.object,importedCount:l.a.number,processedCount:l.a.number,totalCount:l.a.number,skipped:l.a.bool,completed:l.a.bool,status:l.a.object}))},mt.defaultProps={migrations:[]};var gt=function(e){var t=e.id,n=Object(s.useTracking)(),i=Object(a.useContext)(te),o=i.migrations,l=i.isLoading,u=o.find((function(e){return e.id===decodeURIComponent(t)}));if(Object(a.useEffect)((function(){document.documentElement.style.setProperty("--page-height","none")}),[]),!o.length)return r.a.createElement(Ye,{title:"Migration: …",pending:l});var m=u.label,p=u.processedCount,d=u.totalCount,g=u.dependencies,b=u.consistsOf,v=u.links,E=Object.values(v).find((function(e){return"https://github.com/acquia/acquia_migrate#link-rel-migration-mapping"===e.rel})),y=Object(S.k)(v),O=y.preview,h=y.previewable,j=g.map((function(e){return ft({},e,{label:o.find((function(t){return t.id===e.id})).label})})),w=function(e,a){n.trackEvent(ft({type:e},a,{},{migrationID:t,migrationUnderlyingList:b.map((function(e){return e.id}))}))};return r.a.createElement("div",{className:"migrate-ui__migration_detail region-content"},r.a.createElement(f.a,null,r.a.createElement(Ve.a,null,r.a.createElement(We.a,null,r.a.createElement(Be.a,{href:"../../../../",title:"Home"},"Home")),r.a.createElement(We.a,null,r.a.createElement(c.a,{to:"../../"},"Migrations")),r.a.createElement(We.a,null,r.a.createElement("span",null,m))),r.a.createElement(Ue.a,{title:"Migration: ".concat(m)}),r.a.createElement(pt,{migrations:[u]}),r.a.createElement(Ge.a,null,h?r.a.createElement(Je.a,{to:"preview"},"Preview"):null,r.a.createElement(Je.a,{to:"./"},"Mapping"),r.a.createElement(Je.a,{to:"details"},"Details"))),r.a.createElement(c.c,{primary:!1},h&&r.a.createElement(xe,{path:"preview",preview:O,completed:p===d,track:w}),r.a.createElement(He,{path:"/",mapping:E,track:w}),r.a.createElement(ue,{path:"details",dependencies:j,consistsOf:b,track:w})))},bt=gt;gt.propTypes={id:l.a.string},gt.defaultProps={id:""};var vt=n(231),Et=n(230),yt=function(e){var t=e.value,n=e.className,a=Object($e.b)({value:t});return r.a.createElement($e.a.span,{className:"tabular ".concat(n)},a.value.interpolate(Math.round))},Ot=yt;yt.propTypes={value:l.a.oneOfType([l.a.number,l.a.string]).isRequired,className:l.a.string},yt.defaultProps={className:""};var ht=function(e){var t=e.label,n=e.value,a=e.children,i=e.type,c=void 0===i?"inline":i,o=e.modifier,l=void 0===o?"small":o;return r.a.createElement("div",{className:"".concat("inline"===c&&"ajax-progress ajax-progress-bar"," ").concat("small"===l&&"progress--small")},r.a.createElement("div",{className:"progress","aria-live":"polite"},r.a.createElement("div",{className:"progress__label",title:t},t),r.a.createElement("div",{className:"progress__track"},r.a.createElement("div",{className:"progress__bar",style:{width:"".concat(n,"%")}})),r.a.createElement("div",{className:"progress__percentage"},r.a.createElement(Ot,{value:n}),"%"),r.a.createElement("div",{className:"progress__description"},a)))},jt=ht;function wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}ht.propTypes={label:l.a.string.isRequired,value:l.a.number.isRequired,children:l.a.oneOfType([l.a.arrayOf(l.a.node),l.a.node]).isRequired,type:l.a.string,modifier:l.a.string},ht.defaultProps={type:"inline",modifier:"small"};var _t=function(e){var t=e.item,n=t.title,a=t.progressRatio,i=t.errors?a||100:100*a;return r.a.createElement(jt,{label:n,value:i,type:"full",modifier:"large"},r.a.createElement("span",null,"Please wait for this import to finish before leaving this window."))},Pt=function(e){var t=e.links,n=Object(a.useState)([]),i=b()(n,2),c=i[0],o=i[1],l=T(),s=l.active,u=l.queue,m=l.addToQueue,p=l.isQueueCompleted,f=Object(a.useState)(c.length>0),g=b()(f,2),v=g[0],E=g[1],y=s.qid||"";return Object(a.useEffect)((function(){t&&o(Object.entries(t).filter((function(e){return"https://github.com/acquia/acquia_migrate#link-rel-start-batch-process"===e[1].rel})).map((function(e){var t=b()(e,2),n=t[0];return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wt(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t[1],{id:n})})))}),[t]),Object(a.useEffect)((function(){c.length&&(E(!0),c.forEach((function(e){var t=e.id,n=e.title,a=e.href;m({id:t,title:n,start:{href:a},operation:"import"})})))}),[c.length]),Object(a.useEffect)((function(){u.length&&p&&setTimeout((function(){E(!1)}),1e3)}),[y]),v?r.a.createElement(le,null,r.a.createElement("div",{className:"initial_import"},u.map((function(e){return r.a.createElement(_t,{key:e.qid,item:e})})))):r.a.createElement("div",null)},kt=Pt;_t.propTypes={item:l.a.shape({title:l.a.string,progressRatio:l.a.number,errors:l.a.object}).isRequired},Pt.propTypes={links:l.a.shape({href:l.a.string,title:l.a.string,rel:l.a.string})},Pt.defaultProps={links:{}};var qt=function(e){var t=e.buttons,n=O(!1),a=b()(n,2),i=a[0],c=a[1],o=O(!1),l=b()(o,2),s=l[0],u=l[1];return r.a.createElement("div",{className:"dropdown dropleft"},s?r.a.createElement(ye.a,null):r.a.createElement("a",{role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":i,onClick:c},r.a.createElement(ct,{icon:"more-vertical"})),r.a.createElement("div",{className:"dropdown-menu ".concat(i?"show":"")},t.map((function(e){return r.a.createElement(Fe,{key:e.key,button:e,className:"dropdown-item",action:function(){c(),u(),e.action()}})}))))},Nt=qt;qt.propTypes={buttons:l.a.arrayOf(l.a.shape({key:l.a.string.isRequired,rel:l.a.string.isRequired,title:l.a.string.isRequired,action:l.a.func.isRequired}))},qt.defaultProps={buttons:[]};var Rt=r.a.createContext(),Tt=function(e){var t=e.parentRef,n=e.children,i=t.current?t.current.scrollTop:0,c=Object(a.useState)(""),o=b()(c,2),l=o[0],s=o[1],u=Object($e.b)((function(){return{offset:0,from:{offset:0},reset:!0,onFrame:function(e){var n=e.offset;t.current&&t.current.scrollTo(0,n)}}})),m=b()(u,2)[1];return r.a.createElement(Rt.Provider,{value:{scrollParent:function(e){m({from:{offset:i},offset:e})},isChildFocused:function(e){return l===e},focusChild:function(e){s(e),setTimeout((function(){s("")}),1e3)}}},n)};Tt.propTypes={parentRef:l.a.shape({current:l.a.element}).isRequired,children:l.a.oneOfType([l.a.arrayOf(l.a.node),l.a.node]).isRequired};var xt=function(e){var t=e.dependencies,n=O(!1),i=b()(n,2),c=i[0],o=i[1],l=Object(a.useContext)(Rt).focusChild;return r.a.createElement("div",{className:"dropdown dropleft"},r.a.createElement("a",{className:"dropdown-toggle",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":c,onClick:o},r.a.createElement(ct,{icon:"chevron-down"})),r.a.createElement("div",{className:"dropdown-menu ".concat(c?"show":"")},t.map((function(e){return r.a.createElement("div",{key:e.id,className:"dropdown-item"},e.incomplete?r.a.createElement("a",{title:"jump to ".concat(e.label," migration"),className:"migration__".concat(e.incomplete?"danger":"success"," migration__import-status"),onClick:function(){return t=e.id,o(),void l(t);var t}},e.label):e.label)}))))},Ct=function(e){var t=e.dependencies,n=e.hasImported,a=e.showDependencies,i=e.link,c="Not available",o="muted";if(!i&&!a)return r.a.createElement("span",{className:"migration__".concat(o," migration__import-status")},c);var l=t.length>0;if(a&&l){var s=l&&t.some((function(e){return e.incomplete}));c=s?"Unmet dependencies":"No unmet dependencies",o=s?"danger":"success"}else i?(c="Ready for ".concat(i.title),o="success"):c=n?"Already imported":"Not ready";return r.a.createElement("div",{className:"migration__status"},r.a.createElement("span",{className:"migration__".concat(o," migration__import-status")},c),a&&l&&r.a.createElement(xt,{dependencies:t}))},St=Ct;xt.propTypes={dependencies:l.a.arrayOf(l.a.object)},xt.defaultProps={dependencies:[]},Ct.propTypes={dependencies:l.a.arrayOf(l.a.object),hasImported:l.a.bool.isRequired,showDependencies:l.a.bool.isRequired,link:l.a.shape({rel:l.a.string,title:l.a.string,href:l.a.string})},Ct.defaultProps={dependencies:[],link:null};var Dt=n(232),Ft=n(229),It=n(143),Lt=n(144),Qt=n(228),Mt=n(41),At=function(e,t){var n=Object(a.useRef)();Object(a.useEffect)((function(){n.current=e}),[e]),Object(a.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])},zt=function(e){var t=e.start;return r.a.createElement("span",null,"started ",Object(Dt.a)(t,Date.now()),r.a.createElement("br",null),"still in progress")},Ht=function(e){var t=e.startTime,n=e.endTime,i=e.start,c=e.end,o=e.duration,l=Object(a.useState)(!1),s=b()(l,2),u=s[0],m=s[1],p=Object(a.useState)(Date.now()),d=b()(p,2),f=d[0],g=d[1],v=Object(Ft.a)(i,{addSuffix:!0,includeSeconds:!0}),E=Object(It.a)(i,Mt.a),y=Object(It.a)(c,Mt.a),O=Object(Dt.a)(i,f),h=Object(Lt.a)(f,i)>60?3e4:2e3,j=Object(Qt.a)(Object(Mt.c)(o));return At((function(){return g(Date.now())}),h),r.a.createElement("div",{className:"migration__last_imported"},r.a.createElement("a",{onClick:function(){return m(!u)},title:O},v,r.a.createElement("br",null),"took ",j||"less than a second"),r.a.createElement("div",{className:"migration__last_imported_details ".concat(u?"migration__last_imported_details--is-visible":"")},"Started: ",r.a.createElement("span",{title:t},E),r.a.createElement("br",null),"Finished: ",r.a.createElement("span",{title:n},y)))},Ut=function(e){var t=e.imported;if(!t)return r.a.createElement("span",null,"Not imported");var n=t.startTime,a=t.endTime,i=t.duration,c=Object(Mt.b)(n);if(!a)return r.a.createElement(zt,{start:c});var o=Object(Mt.b)(a);return r.a.createElement(Ht,{startTime:n,endTime:a,start:c,end:o,duration:i})},Vt=Ut;zt.propTypes={start:l.a.instanceOf(Date).isRequired},Ht.propTypes={startTime:l.a.string.isRequired,endTime:l.a.string.isRequired,start:l.a.instanceOf(Date).isRequired,end:l.a.instanceOf(Date).isRequired,duration:l.a.number.isRequired},Ut.propTypes={imported:l.a.shape({startTime:l.a.string,endTime:l.a.string,duration:l.a.number})},Ut.defaultProps={imported:null};var Wt=function(e){var t=e.status,n=e.importedCount,a=e.totalCount,i=t.code,c=t.message,o=["IMPORTED_WARN","IMPORTING_ERR","IMPORTED_ERR"].includes(i)?"".concat("migration__import-status migration","__warning"):"";return r.a.createElement("span",{title:c,className:o},r.a.createElement(Ot,{value:n}),"/",r.a.createElement("span",{className:"tabular"},a))},Bt=Wt;Wt.propTypes={status:l.a.shape({code:l.a.string,message:l.a.string}).isRequired,importedCount:l.a.number.isRequired,totalCount:l.a.number.isRequired};var Gt=function(e){var t=e.imported;if(!t)return null;var n=t.startTime,a=t.endTime,i=t.duration;if(a||i)return null;var c=Object(Mt.b)(n);return r.a.createElement("span",null,"started ",Object(Dt.a)(c,Date.now()))},Jt=function(e){var t=e.label,n=e.item,i=e.imported,c=n.id,o=n.qid,l=n.operation,s=n.pending,u=n.errors,m=Object(a.useContext)(te),p=m.migrations,d=m.removeFromQueue,f=Object(S.B)(Object(S.f)(c,p),l),g=u?f||100:100*f;return r.a.createElement("div",{className:"migration_progress"},r.a.createElement(jt,{label:t,value:g},r.a.createElement(Gt,{imported:i})),r.a.createElement("div",{className:"migration_progress__cancel"},s?r.a.createElement("span",{title:"Pending response"},r.a.createElement(ct,{icon:"circle"})):r.a.createElement("a",{rel:"https://github.com/acquia/acquia_migrate#link-rel-dequeue-item",onClick:function(){d(o)},title:"Cancel",role:"button","aria-label":"Cancel"},r.a.createElement(ct,{icon:"cancel"}),r.a.createElement("span",{className:"visually-hidden"},"Cancel"))))},Kt=Jt;Gt.propTypes={imported:l.a.shape({startTime:l.a.string,endTime:l.a.string,duration:l.a.number})},Gt.defaultProps={imported:null},Jt.propTypes={label:l.a.string,item:l.a.shape({id:l.a.string,qid:l.a.string,operation:l.a.string,pending:l.a.bool,errors:l.a.object}).isRequired,imported:l.a.shape({startTime:l.a.string,endTime:l.a.string,duration:l.a.number})},Jt.defaultProps={label:"",imported:null};var Yt=n(52),$t=function(e){var t=e.className,n=e.children;return r.a.createElement("td",{className:t},r.a.createElement("div",null,n))},Xt=function(e){var t=e.data,n=e.columns,i=e.operation,c=e.selections,o=e.selectSingle,l=t.id,s=t.page,u=t.status,m=Object(a.useContext)(te),p=m.migrations,f=m.updateMigration,g=m.removeFromList,b=m.active,v=m.queue,E=Object(a.useContext)(Rt),y=E.scrollParent,O=E.isChildFocused,h=Object(a.useRef)(null),j=Object(S.f)(l,p),w=Object(S.m)(l,v),_=j.label,P=j.status,k=j.importedCount,q=j.totalCount,N=j.lastImported,R=j.links,T={"https://github.com/acquia/acquia_migrate#link-rel-update-resource":function(e,t,n){f(t,n)}},x=Object(S.k)(R).previewable,C=Object(S.b)(j,p,"import"),D=R.hasOwnProperty("rollback"),F=b&&b.id===l,I=!!w,L="removed"===u,Q=O(l),M=R.hasOwnProperty(i),A={checked:!!M&&(c.hasOwnProperty(l)&&c[l]),disabled:!M||L};Object(a.useEffect)((function(){L&&setTimeout((function(){g(l,s,w)}),1500)}),[L]),Object(a.useEffect)((function(){return Q&&h.current&&y(h.current.offsetTop-h.current.offsetHeight),function(){o(d()({},l,!1))}}),[Q]);var z=Object.keys(R).filter((function(e){return T.hasOwnProperty(R[e].rel)})).map((function(e){return{key:"".concat(e,"-").concat(l),rel:R[e].rel,title:R[e].title,action:function(){return T[R[e].rel](e,R[e].href,R[e].params)}}})),H=R["migration-messages"];return r.a.createElement("tr",{id:l,ref:h,className:"migration table_row ".concat(L?"migration__removed migration__removed--".concat(Object(S.g)(j)):""," ").concat(Q?"migration__focused":"")},n.includes("actions")&&r.a.createElement($t,{className:"migration__actions"},I?r.a.createElement(ct,{size:"16",icon:F?"zap":"clock"}):r.a.createElement(Yt.a,{id:l,options:A,toggle:function(){o(d()({},l,!A.checked))}})),n.includes("name")&&r.a.createElement($t,null,w?r.a.createElement(Kt,{item:w,label:_,imported:N}):r.a.createElement(re,{id:l,previewable:x},_)),n.includes("status")&&r.a.createElement($t,{className:"migration_row__status"},r.a.createElement(St,{dependencies:C,hasImported:D,showDependencies:"import"===i,link:M?R[i]:null})),n.includes("imported")&&r.a.createElement($t,{className:"migration_row__imported_count col--align"},r.a.createElement(Bt,{status:P,importedCount:k,totalCount:q})),n.includes("messages")&&r.a.createElement($t,{className:"migration_row__message_count col--align"},H?r.a.createElement(Be.a,{href:H.href,title:"View ".concat(_," messages")},r.a.createElement(Ot,{value:H.title})):r.a.createElement("span",{className:"tabular"},"0")),n.includes("lastImported")&&r.a.createElement($t,{className:"migration_row__last_imported"},r.a.createElement(Vt,{imported:N})),n.includes("ops")&&r.a.createElement($t,{className:"migration_row__operations col--align"},r.a.createElement(Nt,{buttons:z})))},Zt=Xt;function en(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}$t.propTypes={className:l.a.string,children:l.a.oneOfType([l.a.arrayOf(l.a.element),l.a.element]).isRequired},$t.defaultProps={className:""},Xt.propTypes={data:l.a.shape({id:l.a.string,index:l.a.number,lastImported:l.a.shape({startTime:l.a.string,endTime:l.a.string,duration:l.a.number}),page:l.a.string,status:l.a.string}).isRequired,columns:l.a.arrayOf(l.a.string).isRequired,operation:l.a.string.isRequired,selections:l.a.objectOf(l.a.bool),selectSingle:l.a.func.isRequired},Xt.defaultProps={selections:{}};var tn=function(e){var t=e.migrations,n=e.options,i=e.operation,c=e.setOperation,o=e.selections,l=e.selectAll,u=Object(s.useTracking)(),m=Object(a.useContext)(te),p=m.addToQueue,f=m.limiters.searchTitle,g=m.updateLimiter,v=Object.entries(o).filter((function(e){return b()(e,2)[1]}));return r.a.createElement("div",{className:"migration__operations"},r.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),"import"===i){var n=v.reduce((function(e,n){var a=b()(n,1)[0],r=Object(S.f)(a,t),i=r.processedCount,c=r.totalCount,o=r.consistsOf;return e.migrationInitiatedQuantity+=1,e.migrationInitiatedRows+=c-i,e.migrationInitiatedList.push(a),e.migrationInitiatedUnderlyingList=[].concat(E()(e.migrationInitiatedUnderlyingList),E()(o.map((function(e){return e.id})))),e}),{migrationInitiatedQuantity:0,migrationInitiatedRows:0,migrationInitiatedList:[],migrationInitiatedUnderlyingList:[]});u.trackEvent(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?en(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):en(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({type:"User initiated migration"},n))}v.forEach((function(e){var n=b()(e,1)[0],a=Object(S.f)(n,t),r=a.id,c=a.label,o=a.links[i].href;p({id:r,title:c,start:{href:o},operation:i})})),l(!1)},className:"migrate__exposed-form"},r.a.createElement("div",{className:"migrate__exposed-form__item"},r.a.createElement("select",{name:"migration__operations_selector",id:"migration__operations_selector",className:"form-element form-element--type-select",onChange:function(e){c(e.target.value)},value:i},n.map((function(e){var t=b()(e,2),n=t[0],a=t[1];return r.a.createElement("option",{key:n,value:n},a)})))),r.a.createElement("div",{className:"migrate__exposed-form__item migrate__exposed-form__item--actions"},r.a.createElement("button",{type:"submit",disabled:""===i||!v.length,className:"button button--primary form-submit"},v.length?"Apply to (".concat(v.length,") selected"):"No migrations selected")),r.a.createElement(he.a,{name:f.name,type:"search",value:f.value,size:"30",placeholder:"Filter by migration name",onChange:function(e){g(f.name,e.target.value)}})))},nn=tn;function an(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}tn.propTypes={migrations:l.a.arrayOf(l.a.shape({id:l.a.string,index:l.a.number,label:l.a.string,consistsOf:l.a.arrayOf(l.a.object),dependencies:l.a.arrayOf(l.a.object),lastImported:l.a.object,links:l.a.object,importedCount:l.a.number,processedCount:l.a.number,totalCount:l.a.number,skipped:l.a.bool,completed:l.a.bool,status:l.a.object})),options:l.a.arrayOf(l.a.array),operation:l.a.string,setOperation:l.a.func.isRequired,selections:l.a.objectOf(l.a.bool),selectAll:l.a.func.isRequired},tn.defaultProps={migrations:[],operation:"",options:[],selections:{}};var rn=function(e,t){switch(t.type){case"selectSingle":return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?an(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):an(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{},t.selected);case"selectAll":return Object.fromEntries(Object(S.o)(t.migrations,t.operation).map((function(e){return[e.id,t.value]})));default:return e}},cn=function(e){var t=Object(S.h)(e),n=Array.from(t.keys()).sort().join("-"),r=Object(a.useState)([]),i=b()(r,2),c=i[0],o=i[1],l=Object(a.useState)(""),s=b()(l,2),u=s[0],m=s[1],p=Object(a.useState)(!1),d=b()(p,2),f=d[0],g=d[1],v=Object(a.useReducer)(rn,{}),E=b()(v,2),y=E[0],O=E[1];Object(a.useEffect)((function(){g(!1),O({type:"selectAll",value:!1,operation:u,migrations:e})}),[u]),Object(a.useEffect)((function(){""!==n&&(o(Array.from(t)),m(t.has("import")?"import":t.keys().next().value))}),[n]);return{operation:u,setOperation:m,options:c,selections:y,checked:f,selectSingle:function(e){O({type:"selectSingle",selected:e})},selectAll:function(t){g(t),O({type:"selectAll",value:t,operation:u,migrations:e})}}},on=function(e){var t=e.name,n=e.list,i=n.columns,c=n.currentRows,o=Object(a.useContext)(te),l=o.migrations,s=o.resetList,u=o.limiters.searchTitle,m=Object(S.v)(n),p=c.filter((function(e){return"removed"!==e.status})).filter((function(e){return u.test(e)})).map((function(e){return Object(S.f)(e.id,l)})),d=Object(a.useRef)(null),f=cn(p),g=f.options,b=f.operation,v=f.setOperation,E=f.selections,y=f.checked,O=f.selectSingle,h=f.selectAll;return Object(a.useEffect)((function(){m&&setTimeout((function(){s(t)}),1500)}),[m]),r.a.createElement(Tt,{parentRef:d},r.a.createElement("div",{className:"sticky-outer"},i.includes("actions")&&r.a.createElement(nn,{migrations:p,options:g,operation:b,setOperation:v,selections:E,selectAll:h}),r.a.createElement("div",{className:"sticky-enabled",ref:d},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,i.includes("actions")&&r.a.createElement("th",null,r.a.createElement(Yt.a,{id:"allMigrations",options:{checked:y,disabled:!1},toggle:function(){h(!y)}})),i.includes("name")&&r.a.createElement("th",null,"Name"),i.includes("status")&&r.a.createElement("th",null,"Status"),i.includes("imported")&&r.a.createElement("th",{className:"col--align"},"Imported/Total"),i.includes("messages")&&r.a.createElement("th",{className:"col--align"},"Messages"),i.includes("lastImported")&&r.a.createElement("th",null,"Last Imported"),i.includes("ops")&&r.a.createElement("th",{className:"col--align"},"Operations"))),r.a.createElement("tbody",null,c.filter((function(e){return u.test(e)})).map((function(e){return r.a.createElement(Zt,{key:e.id,data:e,columns:i,operation:b,selections:E,selectSingle:O})})))))))},ln=on;on.propTypes={name:l.a.string.isRequired,list:l.a.shape({title:l.a.string,initialized:l.a.bool,activeCount:l.a.number,columns:l.a.arrayOf(l.a.string),currentRows:l.a.arrayOf(l.a.object),filter:l.a.func,sort:l.a.func,path:l.a.string,to:l.a.string}).isRequired};var sn=function(e,t){var n=Object(a.useState)(0),r=b()(n,2),i=r[0],c=r[1];return Object(a.useEffect)((function(){if(e){var n=new ResizeObserver((function(){var n=e.getBoundingClientRect();c(n[t])}));return n.observe(e),function(){n.unobserve(e)}}}),[e]),i};function un(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function mn(e){function t(t){var n=Object(a.useContext)(w.c).error;return r.a.createElement(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?un(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):un(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({error:n},t))}var n=e.displayName||e.name||"Component";return t.displayName="withError(".concat(n,")"),t}var pn=n(59),dn=n(39),fn=function(e){var t=e.error,n=t.status,a=t.reason;return r.a.createElement(r.a.Fragment,null,"Status code: ",r.a.createElement("em",null,n),r.a.createElement("br",null),"Reason phrase: ",r.a.createElement("em",null,a))},gn=function(e){var t=e.error,n=O(!1),a=b()(n,2),i=a[0],c=a[1],o=(t.errors[0]||{}).detail||"An unrecognized error occurred.";return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,o," ",r.a.createElement("em",null,i?r.a.createElement("a",{onClick:c},"Hide developer details."):r.a.createElement("a",{onClick:c},"Show developer details."))),i&&r.a.createElement("p",null,r.a.createElement(fn,{error:t})))},bn=function(e){var t=e.error;return t instanceof dn.a?r.a.createElement(gn,{error:t}):r.a.createElement("span",null,t.description)},vn=function(e){var t=e.children;return r.a.createElement("div",{className:"alert alert-danger show"},t)},En=function(e){var t=e.children,n=e.dismiss,a=O(!1),i=b()(a,2),c=i[0],o=i[1];return!c&&r.a.createElement(vn,null,r.a.createElement("button",{onClick:function(){o(),n()},type:"button",className:"close","data-dismiss":"alert","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"×")),t)},yn=function(e){var t=e.error;return r.a.createElement(vn,null,r.a.createElement(bn,{error:t}))},On=function(e){var t=e.error,n=e.dismiss;return r.a.createElement(En,{dismiss:n},r.a.createElement(bn,{error:t}))},hn={error:l.a.oneOfType([l.a.instanceOf(dn.a),l.a.instanceOf(Error)]).isRequired};vn.propTypes={children:l.a.oneOfType([l.a.arrayOf(l.a.node),l.a.node]).isRequired},En.propTypes={children:l.a.element.isRequired,dismiss:l.a.func},On.propTypes={error:l.a.oneOfType([l.a.instanceOf(dn.a),l.a.instanceOf(Error)]).isRequired,dismiss:l.a.func.isRequired},yn.propTypes=hn,bn.propTypes=hn,gn.propTypes=hn,fn.propTypes=hn,En.defaultProps={dismiss:function(){}};var jn=mn(yn),wn=function(){var e=Object(a.useContext)(te),t=e.lists,n=e.links,i=e.migrations,o=document.querySelector(".content-header"),l=document.querySelector(".content-header .tabs-wrapper"),s=sn(o,"height"),u=sn(l,"height");return Object(a.useEffect)((function(){document.documentElement.style.setProperty("--page-height","calc((100vh - var(--offset-top)) + (var(--header-height) - var(--tabs-height)))"),document.documentElement.style.setProperty("--migration-list-height","calc(100vh - var(--header-height))")}),[]),Object(a.useEffect)((function(){document.documentElement.style.setProperty("--header-height","".concat(s,"px")),document.documentElement.style.setProperty("--tabs-height","".concat(u,"px"))}),[s,u]),r.a.createElement("div",{className:"region-content"},r.a.createElement(f.a,null,r.a.createElement(Ve.a,null,r.a.createElement(We.a,null,r.a.createElement(Be.a,{href:"../../",title:"Home"},"Home")),r.a.createElement(We.a,null,r.a.createElement("span",null,"Migrations"))),r.a.createElement(Ue.a,{title:"Migrations"}),r.a.createElement(pt,{migrations:E()(i.filter((function(e){return!e.skipped})))}),r.a.createElement(Ge.a,null,t.map((function(e){return r.a.createElement(Je.a,{key:"tab-".concat(e.name),to:e.to},e.title,r.a.createElement("span",{className:"badge ".concat(Object(S.v)(e)?"badge--has-new":"")},e.activeCount))})))),r.a.createElement(w.b,null,r.a.createElement(w.d,null,r.a.createElement(kt,{links:n})),r.a.createElement(w.a,{prototype:pn.a},r.a.createElement(jn,null))),r.a.createElement(c.b,null,(function(e){var n=e.location;return r.a.createElement(vt.a,null,r.a.createElement(Et.a,{key:n.key,timeout:500,classNames:"migrations_view"},r.a.createElement(c.c,{location:n,primary:!1,className:"migrations_view"},t.map((function(e){return r.a.createElement(ln,{key:"migration-list-".concat(e.name),list:e,name:e.name,path:e.path})})))))})))},_n=function(e){var t=e.basepath,n=e.source;return r.a.createElement("div",{className:"migrate-ui"},r.a.createElement(ne,{basepath:t,source:n},r.a.createElement(c.c,{basepath:t,primary:!1},r.a.createElement(wn,{path:"/*"}),r.a.createElement(bt,{path:"migration/:id/*"}))))},Pn=new m.a,kn=u()({},{dispatch:function(e){return Pn.logEvent(e)}})(_n);function qn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}_n.propTypes={basepath:l.a.string.isRequired,source:l.a.string.isRequired};var Nn=n(46),Rn=function(e){function t(t){var n=Object(a.useContext)(w.c).clearError;return r.a.createElement(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qn(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({dismiss:n},t))}var n=e.displayName||e.name||"Component";return t.displayName="withDismiss(".concat(n,")"),t}(mn(On));document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector("#decoupled-page-root"),t=e.getAttribute("data-module-path");n.p="/".concat(t,"/ui/dist/");var a=e.getAttribute("data-basepath"),c=e.getAttribute("data-source");(new m.a).init(e.getAttribute("data-tracking-api-key"),Object(Nn.a)(e),void 0),e&&Object(i.render)(r.a.createElement(w.b,null,r.a.createElement(w.d,null,r.a.createElement(kn,{basepath:a,source:c})),r.a.createElement(w.a,null,r.a.createElement(Rn,null))),e)}))}});