!function(e){function t(t){for(var n,c,l=t[0],o=t[1],s=t[2],m=0,p=[];m<l.length;m++)c=l[m],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&p.push(r[c][0]),r[c]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);for(u&&u(t);p.length;)p.shift()();return i.push.apply(i,s||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,l=1;l<a.length;l++){var o=a[l];0!==r[o]&&(n=!1)}n&&(i.splice(t--,1),e=c(c.s=a[0]))}return e}var n={},r={1:0},i=[];function c(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(e){var t=[],a=r[e];if(0!==a)if(a)t.push(a[2]);else{var n=new Promise((function(t,n){a=r[e]=[t,n]}));t.push(a[2]=n);var i,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=function(e){return c.p+""+({5:"tracker"}[e]||e)+".bundle.js"}(e);var o=new Error;i=function(t){l.onerror=l.onload=null,clearTimeout(s);var a=r[e];if(0!==a){if(a){var n=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;o.message="Loading chunk "+e+" failed.\n("+n+": "+i+")",o.name="ChunkLoadError",o.type=n,o.request=i,a[1](o)}r[e]=void 0}};var s=setTimeout((function(){i({type:"timeout",target:l})}),12e4);l.onerror=l.onload=i,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=n,c.d=function(e,t,a){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(a,n,function(t){return e[t]}.bind(null,n));return a},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="",c.oe=function(e){throw console.error(e),e};var l=window.webpackJsonp=window.webpackJsonp||[],o=l.push.bind(l);l.push=t,l=l.slice();for(var s=0;s<l.length;s++)t(l[s]);var u=o;i.push([226,0]),a()}({154:function(e,t,a){},226:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(28),c=(a.p,a(154),a(31)),l=a(1),o=a.n(l),s=a(18),u=a.n(s),m=a(23),p=a(5),d=a.n(p),f=a(29),g=a(2),b=a.n(g),v=a(10),E=a.n(v),y=a(63),h=a(35),O=a(44),j=function(e){return 1===e.progressRatio&&!e.next},w=a(15);function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(Object(a),!0).forEach((function(t){d()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var P=function(e,t){return e.find((function(e){return function(e,t){return e.qid===t.qid}(e,t)}))||{id:null,qid:null,start:null,next:null,pending:null}},q=function(e,t){return P(e,t).pending},N=function(e,t){var a=e.findIndex((function(e){return e.qid===t.qid})),n=e[a+1];return n?{qid:n.qid,id:n.id}:{}},R=function(e,t){switch(t.type){case"add":var a="".concat(e.queue.length,"-").concat(t.item.id);return{active:e.active.hasOwnProperty("qid")?e.active:{id:t.item.id,qid:a},queue:[].concat(E()(e.queue),[k({progressRatio:0,qid:a},t.item)])};case"request":return k(k({},e),{},{queue:e.queue.map((function(e){return e.qid===t.item.qid?k(k({},e),{},d()({pending:!0},t.item.link,null)):e}))});case"update":return{active:t.item.next?e.active:N(e.queue,e.active,t.item),queue:e.queue.map((function(e){return e.qid===t.item.qid?k(k({},e),{},{start:null,next:null,pending:!1},t.item):e}))};case"cleanup":return k(k({},e),{},{queue:e.queue.filter((function(e){return(e.start||e.next||e.pending)&&1!==e.progressRatio}))});case"remove":return{active:e.active&&e.active.qid===t.qid?N(e.queue,e.active):e.active,queue:e.queue.filter((function(e){return e.qid!==t.qid}))};case"clear":return q(e.queue,e.active)?k(k({},e),{},{queue:e.queue.filter((function(e){return e.pending}))}):{active:{},queue:[]};default:return e}},x=function(){var e=Object(n.useContext)(w.c).throwError,t=Object(h.a)(!0),a=b()(t,2),r=a[0],i=a[1],c=Object(h.a)(!1),l=b()(c,2),o=l[0],s=l[1],u=Object(n.useReducer)(R,{queue:[],active:{}}),m=b()(u,2),p=m[0],d=m[1],f=p.queue,g=p.active,v=P(f,g),E=v.start,_=v.next,k=v.pending,N=Object(y.a)({deferFn:O.d}),x=N.data,T=N.run;Object(n.useEffect)((function(){x&&d({type:"update",item:x})}),[x]),Object(n.useEffect)((function(){if(E&&r&&!o){var t=P(f,g),a=t.qid,n=t.start.href;k||(d({type:"request",item:{qid:a,link:"start"}}),T({method:"POST",href:n,qid:a,throwError:e}))}}),[E,r]),Object(n.useEffect)((function(){if(_&&r&&!o){var t=P(f,g),a=t.qid,n=t.next.href;k||(d({type:"request",item:{qid:a,link:"next"}}),T({method:"GET",href:n,qid:a,throwError:e}))}}),[_,r]),Object(n.useEffect)((function(){o&&d({type:"clear"})}),[o,k]),Object(n.useEffect)((function(){0!==f.length||r||i()}),[f.length]);var C=function(e){return e.every(j)}(f),S=q(f,g);return{active:g,queue:f,addToQueue:function(e){o&&s(),d({type:"add",item:e})},removeFromQueue:function(e){d({type:"remove",qid:e})},cleanupQueue:function(){d({type:"cleanup"})},isQueueRunning:r,setQueueRunning:i,setQueueClear:function(){o||s()},isQueueStopped:o,isQueueCompleted:C,isActivePending:S}},T=a(80),C=a(50),S=a(3),D=a(81),I=a(9),F=a.n(I),L=a(11),Q=a.n(L),M=a(42),A=a.n(M),z=a(13),H=a.n(z),U=a(14),V=a.n(U),W=a(7),B=a.n(W);function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=B()(e);if(t){var r=B()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return V()(this,a)}}var J=function(e){H()(a,e);var t=G(a);function a(){return F()(this,a),t.apply(this,arguments)}return Q()(a,[{key:"withValue",value:function(e){return new a({name:this.name,value:e})}},{key:"test",value:function(e){return A()(B()(a.prototype),"test",this).call(this,[e.label])}}]),a}(a(82).a);function K(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?K(Object(a),!0).forEach((function(t){d()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):K(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var $=function(e,t){var a=e.id,n=e.attributes,r=e.relationships,i=e.links,c=n.label,l=n.lastImported,o=n.processedCount,s=n.importedCount,u=n.totalCount,m=n.completed,p=n.skipped,d=r.dependencies,f=r.consistsOf,g={importedCount:Object(S.x)(s,u),processedCount:Object(S.x)(o,u),totalCount:u},b=Object(S.y)(Y(Y({},g),{},{completed:m,skipped:p,links:i}));return Y(Y({id:a,index:t,label:c,status:b,lastImported:l},g),{},{completed:m,skipped:p,dependencies:d.data.map((function(e){var t=e.meta.dependencyReasons;return{id:e.id,dependencyReasons:t}})),consistsOf:f.data.map((function(e){return{id:e.id}})),links:i})},X=[{name:"active",title:"In Progress",path:"/",to:"./",initialized:!1,columns:["actions","name","status","imported","messages","ops"],currentRows:[],filter:S.d,sort:S.E},{name:"needs-review",title:"Needs Review",path:"needs-review",to:"needs-review",initialized:!1,columns:["actions","name","imported","messages","lastImported","ops"],currentRows:[],filter:S.c,sort:S.F},{name:"completed",title:"Completed",path:"completed",to:"completed",initialized:!1,columns:["actions","name","imported","messages","lastImported","ops"],currentRows:[],filter:function(e){return e.filter((function(e){return e.completed}))},sort:S.F},{name:"skipped",title:"Skipped",path:"skipped",to:"skipped",initialized:!1,columns:["name","imported","messages","ops"],currentRows:[],filter:function(e){return e.filter((function(e){return e.skipped}))},sort:S.E}],Z=function(e,t,a,n,r,i){return{id:e,label:t,index:r,lastImported:i,page:a,status:n}},ee=function(e,t){if("remove"===t.type)return e.map((function(e){return e.name===t.page?function(e,t){return Y(Y({},e),{},{currentRows:e.currentRows.filter((function(e){return e.id!==t}))})}(e,t.id):e}));if("reset"===t.type){var a=e.find((function(e){return e.name===t.page})).currentRows.filter((function(e){return"new"===e.status})).map((function(e){return e.id}));return e.map((function(e){return e.name===t.page?function(e){return Y(Y({},e),{},{currentRows:E()(e.currentRows.map((function(e){return"new"===e.status?Y(Y({},e),{},{status:"initial"}):e})))})}(e):function(e,t){var a=e.currentRows.filter((function(e){return t.includes(e.id)&&"removed"===e.status})).map((function(e){return e.id}));return a.length?Y(Y({},e),{},{currentRows:e.currentRows.filter((function(e){return!a.includes(e.id)}))}):e}(e,a)}))}var n,r;return n=e,r=t.migrations,n.reduce((function(e,t){var a=t.filter(r);if(0!==t.currentRows.length||n.every((function(e){return e.initialized}))){var i=t.currentRows.filter((function(e){return"removed"!==e.status})).map((function(e){return e.id})),c=a.map((function(e){return e.id})),l=i.filter((function(e){return!c.includes(e)})),o=c.filter((function(e){return!i.includes(e)}));o.length&&(t.currentRows=t.sort([].concat(E()(t.currentRows),E()(a.filter((function(e){return o.includes(e.id)})).map((function(e){return Z(e.id,e.label,t.name,"new",e.index,e.lastImported)})))))),l.length&&(t.currentRows=t.sort(t.currentRows.map((function(e){return l.includes(e.id)?Y(Y({},e),{},{status:"removed"}):e}))))}else t.currentRows=t.sort(a.map((function(e){return Z(e.id,e.label,t.name,"initial",e.index,e.lastImported)})));return t.activeCount=t.currentRows.filter((function(e){return"removed"!==e.status})).length,t.initialized||(t.initialized=!0),[].concat(E()(e),[t])}),[])},te=r.a.createContext({}),ae=function(e){var t=e.basepath,a=e.basepathPreselect,i=e.source,c=e.children,l=Object(n.useState)([]),o=b()(l,2),s=o[0],u=o[1],m=Object(n.useState)(null),p=b()(m,2),d=p[0],f=p[1],g=Object(n.useState)(null),v=b()(g,2),E=v[0],y=v[1],h=Object(n.useState)(!1),j=b()(h,2),_=j[0],k=j[1],P=Object(D.a)({searchTitle:new J({name:"searchTitle",value:""})}),q=P.limiters,N=P.updateLimiter,R=Object(n.useReducer)(ee,X),I=b()(R,2),F=I[0],L=I[1],Q=x(),M=Q.active,A=Q.queue,z=Q.addToQueue,H=Q.removeFromQueue,U=Q.cleanupQueue,V=Q.isQueueRunning,W=Q.setQueueRunning,B=Q.setQueueClear,G=Q.isQueueStopped,K=Q.isQueueCompleted,Y=Q.isActivePending,Z=Object(T.a)(d).bulkUpdateMigrations,ae=Object(n.useContext)(w.c).throwError,ne=Object(C.a)({href:i,handleError:ae}),re=ne.isLoading,ie=ne.document;Object(n.useEffect)((function(){ie&&(y(Object(S.r)(ie.links)&&!_?ie.links["initial-import"]:null),f(ie.links),u(ie.data.map($)))}),[ie]),Object(n.useEffect)((function(){s.length&&L({type:"update",migrations:s})}),[s]),Object(n.useEffect)((function(){E&&k(!0)}),[E]);return r.a.createElement(te.Provider,{value:{lists:F,links:d,initialImportLink:E,isInitialImporting:_,setInitialImporting:k,migrations:s,limiters:q,updateLimiter:N,updateMigration:function(e,t){t.data&&Object(O.b)({href:e,payload:{data:t.data}})},removeFromList:function(e,t,a){L({type:"remove",id:e,page:t}),a&&H(a.qid)},resetList:function(e){L({type:"reset",page:e}),U()},active:M,queue:A,addToQueue:z,removeFromQueue:H,isQueueRunning:V,setQueueRunning:W,setQueueClear:B,isQueueStopped:G,isQueueCompleted:K,isActivePending:Y,basepath:t,basepathPreselect:a,isLoading:re,bulkUpdateMigrations:Z}},c)};ae.propTypes={basepath:o.a.string.isRequired,basepathPreselect:o.a.string.isRequired,source:o.a.string.isRequired,children:o.a.oneOfType([o.a.arrayOf(o.a.node),o.a.node]).isRequired};var ne=function(e){var t=e.id,a=e.previewable,i=e.children,l=Object(n.useContext)(te).basepath;return r.a.createElement("div",{className:"migration__title"},r.a.createElement(c.a,{title:i,to:"".concat(l,"/migration/").concat(t).concat(a?"/preview":"")},i))},re=ne;ne.propTypes={id:o.a.string.isRequired,previewable:o.a.bool,children:o.a.string},ne.defaultProps={previewable:!1,children:""};var ie=function(e){var t=e.one,a=e.two;return r.a.createElement("div",{className:"layout-row clearfix"},r.a.createElement("div",{className:"layout-column layout-column--half"},t),r.a.createElement("div",{className:"layout-column layout-column--half"},a))},ce=ie;ie.propTypes={one:o.a.oneOfType([o.a.arrayOf(o.a.node),o.a.node]),two:o.a.oneOfType([o.a.arrayOf(o.a.node),o.a.node])},ie.defaultProps={one:null,two:null};var le=function(e){var t=e.header,a=e.padding,n=e.children;return r.a.createElement("div",{className:"panel"},t&&r.a.createElement("h3",{className:"panel__title"},t),a?r.a.createElement("div",{className:"panel__content"},n):n)},oe=le;le.propTypes={header:o.a.oneOfType([o.a.arrayOf(o.a.node),o.a.node]),padding:o.a.bool,children:o.a.oneOfType([o.a.arrayOf(o.a.node),o.a.node]).isRequired},le.defaultProps={header:null,padding:!0};var se=function(e){var t=e.dependencies,a=e.consistsOf,i=e.track;return Object(n.useEffect)((function(){i("User viewed details")}),[]),r.a.createElement(ce,{one:r.a.createElement(oe,{header:"Dependencies"},t.length?r.a.createElement("ul",{className:"migration__details_dependencies admin-list--panel admin-list"},t.map((function(e){return r.a.createElement("li",{key:e.id,className:"admin-item--panel"},r.a.createElement("h5",null,r.a.createElement(re,{id:e.id},e.label)),e.dependencyReasons&&r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"".concat(e.id,"-migrations")},"Because of:"),r.a.createElement("ul",{id:"".concat(e.id,"-migrations")},e.dependencyReasons.map((function(t){return r.a.createElement("li",{key:"".concat(e.id,"-").concat(t)},r.a.createElement("code",null,t))})))))}))):r.a.createElement("div",{className:"messages messages--warning"},r.a.createElement("p",null,"No dependencies found."))),two:r.a.createElement(oe,{header:"Underlying Migrations"},a.length?r.a.createElement("ul",{className:"migration__details_underlying admin-list--panel admin-list"},a.map((function(e){return r.a.createElement("li",{key:e.id,className:"admin-item--panel"},r.a.createElement("code",null,e.id))}))):r.a.createElement("p",null,r.a.createElement("em",null,"No underlying migrations listed.")))})},ue=se;se.propTypes={dependencies:o.a.arrayOf(o.a.shape({id:o.a.string})),consistsOf:o.a.arrayOf(o.a.shape({id:o.a.string})),track:o.a.func},se.defaultProps={dependencies:[],consistsOf:[],track:function(){}};var me=a(79),pe=a.n(me),de=function(e){var t=e.value;return Object(S.z)(t).split("; ").map((function(e,t){return r.a.createElement("code",{key:t},e)}))},fe=function(e){var t=e.row;return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("code",null,t.sourceFieldName)," →"," ",r.a.createElement("code",null,t.destinationFieldName)),r.a.createElement("td",null,r.a.createElement(de,{value:t.sourceValueSimplified})),r.a.createElement("td",null,r.a.createElement(de,{value:t.destinationValueSimplified})))},ge=function(e){var t=e.list;return r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Mapping"),r.a.createElement("th",null,"Source"),r.a.createElement("th",null,"Destination"))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement(fe,{key:"".concat(e.sourceFieldName,"-").concat(e.destinationFieldName),row:e})}))))},be=ge;de.propTypes={value:o.a.oneOfType([o.a.array,o.a.string])},de.defaultProps={value:""},fe.propTypes={row:o.a.shape({sourceFieldName:o.a.string,sourceValue:o.a.any,sourceValueSimplified:o.a.any,destinationFieldName:o.a.string,destinationValue:o.a.any,destinationValueSimplified:o.a.any}).isRequired},ge.propTypes={list:o.a.arrayOf(o.a.shape({sourceFieldName:o.a.string,sourceValue:o.a.any,sourceValueSimplified:o.a.any,destinationFieldName:o.a.string,destinationValue:o.a.any,destinationValueSimplified:o.a.any}))},ge.defaultProps={list:[]};var ve=function(e){var t=e.html;return r.a.createElement("div",{className:"migration_preview__live"},r.a.createElement("iframe",{srcDoc:t,title:"Content preview"}))},Ee=ve;ve.propTypes={html:o.a.string.isRequired};var ye=a(22),he=a(12),Oe=a(47),je=function(e){var t=e.id,a=e.href,n=e.title,i=e.setHref,c=e.setEvent;return r.a.createElement("a",{className:"".concat(t," button button--small"),role:"button",href:"#",onClick:function(e){e.preventDefault(),i(a),c({type:"User previewed row",migrationPreviewQuery:Object(he.b)(a)})}},n)},we=function(e){var t=e.link,a=e.setHref,i=e.setEvent,c=e.offsetLinks,l=Object(n.useState)(""),o=b()(l,2),s=o[0],u=o[1],m=t["uri-template:suggestions"][0],p=m.label,f=m.variable;return r.a.createElement("form",{className:"exposed-form exposed-form--labeled",onSubmit:function(e){e.preventDefault(),i({type:"User previewed by search",migrationPreviewSearchTerm:s}),a(Object(he.a)(d()({},f,s),t["uri-template:href"]))}},r.a.createElement(Oe.a,{name:"preview_search",label:p,size:"40",type:"search",value:s,validation:{pattern:"(https?://|^/)(.*)"},onChange:function(e){u(e.target.value)}},"Source site URL should be either ",r.a.createElement("em",null,"relative")," (begin with"," ",r.a.createElement("code",null,"/"),")",r.a.createElement("br",null),"or ",r.a.createElement("em",null,"absolute")," (begin with ",r.a.createElement("code",null,"http://"),")"),r.a.createElement("div",{className:"form-actions form-item exposed-form__item--actions"},r.a.createElement("input",{type:"submit",className:"button form-submit",value:"Go"})),r.a.createElement("div",{className:"form-item exposed-form__item--divider"},r.a.createElement("strong",null,"or")),r.a.createElement("div",{className:"form-item"},r.a.createElement("label",{className:"form-item__label"},"Browse available rows"),r.a.createElement("div",{className:"migration__preview__links",role:"group","aria-label":"Offset rows"},c.map((function(e){var t=e.id,n=e.href,c=e.title;return r.a.createElement(je,{key:"offset-".concat(t),id:t,href:n,title:c,setHref:a,setEvent:i})})))))},_e=we;function ke(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Pe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(a),!0).forEach((function(t){d()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ke(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}je.propTypes={id:o.a.string.isRequired,href:o.a.string.isRequired,title:o.a.oneOfType([o.a.string,o.a.node]).isRequired,setHref:o.a.func.isRequired,setEvent:o.a.func},je.defaultProps={setEvent:function(){}},we.propTypes={link:o.a.shape({rel:o.a.string,href:o.a.string,title:o.a.string,"uri-template:href":o.a.string,"uri-template:suggestions":o.a.arrayOf(o.a.object)}).isRequired,offsetLinks:o.a.arrayOf(o.a.object),setHref:o.a.func.isRequired,setEvent:o.a.func},we.defaultProps={offsetLinks:[],setEvent:function(){}};var qe=function(e,t){var a=t.href;return Object(S.n)({href:a})},Ne=function(e){var t=e.links,a=e.track,i=Pe(Pe({},t["preview-by-offset"]),{},{id:"next"}),c=t["preview-by-url"],l=Object(n.useState)([i]),o=b()(l,2),s=o[0],u=o[1],m=Object(n.useState)({raw:[],html:""}),p=b()(m,2),d=p[0],f=p[1],g=Object(n.useState)(i.href),v=b()(g,2),E=v[0],h=v[1],O=Object(n.useState)({type:"User previewed row",migrationPreviewQuery:Object(he.b)(i.href)}),j=b()(O,2),w=j[0],_=j[1],k=Object(y.a)({deferFn:qe,href:E}),P=k.data,q=k.run;if(Object(n.useEffect)((function(){E&&q()}),[E]),Object(n.useEffect)((function(){if(P){var e="";if(P instanceof Error)e=P.message,console.error(P),E!==i.href&&h(i.href);else{e="OK";var t=P.data,n=t.attributes,r=t.links;u(r?Object.entries(r).map((function(e){var t=b()(e,2),a=t[0];return Pe(Pe({},t[1]),{},{id:a})})):[i]),f(n)}!function(e){if(w){var t=w.type,n=pe()(w,["type"]);a(t,Pe(Pe({},n),{},{migrationPreviewResponse:e})),_(null)}}(e)}}),[P]),!P)return r.a.createElement(ye.a,{message:"Loading…"});if(d){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Preview source site content in Drupal 9 by searching for a URL or by viewing the next available row."),r.a.createElement(_e,{link:c,setHref:h,setEvent:_,offsetLinks:s}),r.a.createElement(ce,{one:r.a.createElement(oe,{padding:!1},r.a.createElement(be,{list:d.raw})),two:r.a.createElement(oe,{header:"Content Preview",padding:!1},r.a.createElement(Ee,{html:d.html}))}))}},Re=function(e){var t=e.preview;return r.a.createElement("div",{className:"migration__preview--no-preview"},Object.entries(t).map((function(e){var t=b()(e,2),a=t[0],n=t[1];return r.a.createElement("div",{key:a,className:"messages messages--warning"},r.a.createElement("p",null,n.title))})))},xe=function(e){var t=e.preview,a=e.track;return r.a.createElement("div",{className:"migration__preview"},Object.values(t.links).length>0?r.a.createElement(Ne,{links:t.links,track:a}):r.a.createElement(Re,{preview:t.unmet}))},Te=xe;Ne.propTypes={links:o.a.shape({"preview-by-offset":o.a.object,"preview-by-url":o.a.object}).isRequired,track:o.a.func},Re.propTypes={preview:o.a.objectOf(o.a.object).isRequired},xe.propTypes={preview:o.a.shape({links:o.a.object,unmet:o.a.object}).isRequired,track:o.a.func},Ne.defaultProps={track:function(){}},xe.defaultProps={track:function(){}};var Ce=a(108),Se=a.n(Ce),De=function(e){var t=e.button,a=e.className,n=e.action,i=t.title,c=t.rel;return r.a.createElement("a",{title:i,rel:c,className:a,role:"button",onClick:function(e){e.preventDefault(),n()}},i)},Ie=De;function Fe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Le(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(a),!0).forEach((function(t){d()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Fe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}De.propTypes={button:o.a.shape({title:o.a.string.isRequired,rel:o.a.string.isRequired}).isRequired,className:o.a.string,action:o.a.func},De.defaultProps={className:"",action:function(){}};var Qe=function(){return r.a.createElement("td",null,"— —")},Me=function(e){var t=e.mapping,a=t.sourceFieldName,n=t.destinationFieldName,i=t.destinationFieldType,c=t.destinationFieldLabel,l=t.destinationFieldIsRequired,o=t.migrationProcessPlugins_THIS_WILL_CHANGE,s=t.overrides,u=a?r.a.createElement("td",null,r.a.createElement("code",null,a)):r.a.createElement(Qe,null),m=n?r.a.createElement(r.a.Fragment,null,r.a.createElement("td",{className:"migration__mapping_destination_fields"},r.a.createElement("code",null,n),r.a.createElement("p",null,c,l?r.a.createElement("abbr",{title:"Required Field"},"*"):"")),r.a.createElement("td",null,r.a.createElement("em",null,i))):r.a.createElement(r.a.Fragment,null,r.a.createElement(Qe,null),r.a.createElement(Qe,null)),p=o?r.a.createElement("td",null,r.a.createElement("code",null,Object(S.z)(o))):r.a.createElement(Qe,null),d=s.length?r.a.createElement("td",null,s.map((function(e){return r.a.createElement(Ie,{key:"$override-{override.label}",button:{title:e.title,rel:e.rel},className:"button",action:e.action})}))):null;return r.a.createElement("tr",null,u,m,p,d)},Ae=function(e){var t=e.links,a=e.unmet,n=e.update;return r.a.createElement("div",{className:"mapping__updates"},r.a.createElement("ul",{className:"nav"},t.map((function(e){return r.a.createElement("li",{key:e.title},r.a.createElement(Ie,{button:{title:e.title,rel:e.rel},className:"button",action:function(){return n(e.href,e.params)}}))}))),a.map((function(e){return r.a.createElement("div",{key:e.href,className:"messages messages--warning"},r.a.createElement("p",null,e.title))})))},ze=function(e){var t=e.mapping,a=e.track;Object(n.useEffect)((function(){a("User viewed mapping")}),[]);var i=Object(y.a)({promiseFn:S.n,href:t.href}),c=i.data,l=i.isPending,o=i.reload,s=function(e,t){var n={"Skip source field":{type:"User skipped field",value:"migrationDestinationFieldName"}};n[e]&&a(n[e].type,d()({},n[e].value,t))};if(!t.href)return r.a.createElement("div",{className:"migration__mapping migration__mapping--no-mapping"},r.a.createElement("div",{className:"messages messages--warning"},"No Mapping information available."));if(l)return r.a.createElement(ye.a,{message:"Loading…"});if(c instanceof Error)return r.a.createElement("div",{className:"migration__mapping migration__mapping--has-error"},r.a.createElement("div",{className:"messages messages--error"},r.a.createElement("p",null,"Error: ",c.message),r.a.createElement("p",null,t.href)));var u=function(e){Object(O.c)({href:e,payload:{}}).then((function(){o()}))},m=c.data,p=m.attributes,f=m.links,g=Object(S.q)(f),v=Object(S.p)(f),h=Object(S.i)(f),j=Object.entries(p).filter((function(e){var t=b()(e,2)[1];return"object"===Se()(t)})).reduce((function(e,t){var a=b()(t,2),n=a[0],r=a[1],i=Object.entries(r).map((function(e){var t=b()(e,2),a=t[0],r=t[1],i="".concat(n,"-").concat(a);return h?{key:i,value:Le(Le({},r),{},{overrides:Object(he.d)(r,h,u,s)})}:{key:i,value:r}}));return[].concat(E()(e),E()(i))}),[]);return r.a.createElement("div",{className:"migration__mapping"},r.a.createElement(Ae,{links:g,unmet:v,update:function(e,t){t.data&&Object(O.b)({href:e,payload:{data:t.data}}).then((function(){o()}))}}),r.a.createElement("div",null,r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Source Field"),r.a.createElement("th",null,"Destination Field"),r.a.createElement("th",null,"Field Type"),r.a.createElement("th",null,"Process Plugins"),r.a.createElement("th",null,!!h.length&&"Operations"))),r.a.createElement("tbody",null,j.map((function(e){var t=e.key,a=e.value;return r.a.createElement(Me,{key:t,mapping:a})}))))))},He=ze;Me.propTypes={mapping:o.a.shape({sourceFieldName:o.a.string,destinationFieldName:o.a.string,destinationFieldType:o.a.string,destinationFieldLabel:o.a.string,destinationFieldIsRequired:o.a.bool,migrationProcessPlugins_THIS_WILL_CHANGE:o.a.array,overrides:o.a.array}).isRequired},Ae.propTypes={links:o.a.arrayOf(o.a.object),unmet:o.a.arrayOf(o.a.object),update:o.a.func.isRequired},Ae.defaultProps={links:[],unmet:[]},ze.propTypes={mapping:o.a.shape({href:o.a.string,rel:o.a.string,title:o.a.string}),track:o.a.func},ze.defaultProps={mapping:{href:"",rel:"",title:""},track:function(){}};var Ue=a(30),Ve=a(40),We=a(20),Be=a(19),Ge=a(65),Je=a(51),Ke=function(e){var t=e.title,a=e.pending;return r.a.createElement("div",{className:"container-fluid"},r.a.createElement(f.a,null,r.a.createElement(Ve.a,null,r.a.createElement(We.a,null,r.a.createElement(Be.a,{href:"../../",title:"Home"},"Home")),r.a.createElement(We.a,null,r.a.createElement("span",null,"Migrations"))),r.a.createElement(Ue.a,{title:t}),a?r.a.createElement(ye.a,{message:"Loading…"}):r.a.createElement("p",null,"No valid migrations found.")))},Ye=Ke;Ke.propTypes={title:o.a.string.isRequired,pending:o.a.bool.isRequired};var $e=a(52),Xe=function(e){var t=e.active,a=e.amount,n=t?"swooshy--is-swooshing":"",i=Object($e.b)({amount:a}),c=parseInt(a,10),l="translateY(-".concat(c<100?c:100,"%)");return r.a.createElement("div",{className:"swooshy ".concat(n)},r.a.createElement("div",{className:"swooshy__inner"},r.a.createElement("div",{className:"swooshy__fill",style:{transform:l}}),r.a.createElement("div",{className:"swooshy__amount"},r.a.createElement($e.a.span,null,i.amount.interpolate((function(e){return parseFloat(e).toFixed(2)}))),"%")))},Ze=Xe;Xe.propTypes={active:o.a.bool,amount:o.a.string},Xe.defaultProps={active:!1,amount:"0.00"};var et=function(){var e=document.getElementsByTagName("body")[0],t=Object(n.useState)(parseInt(e.style.paddingTop,10)),a=b()(t,2),r=a[0],i=a[1];return Object(n.useEffect)((function(){var t=new MutationObserver((function(){i(parseInt(e.style.paddingTop,10))}));return t.observe(e,{attributes:!0,attributeFilter:["style"]}),function(){t.disconnect()}}),[]),r},tt=function(e){var t=e.isPending,a=e.isRunning,n=e.isStopped;return r.a.createElement("span",null,!a&&(t?"Pausing queue, waiting on response":"Queue paused"),n&&(t?"Stopping queue, waiting on response":"Queue stopped"))},at=function(){return r.a.createElement("span",null,"No queued migrations")},nt=function(){var e=Object(n.useContext)(te),t=e.queue,a=e.isActivePending,i=e.isQueueRunning,c=e.isQueueStopped;return r.a.createElement("div",{className:"migration_info__queue_status"},t.length?r.a.createElement(tt,{isPending:a,isRunning:i,isStopped:c}):r.a.createElement(at,null))};tt.propTypes={isPending:o.a.bool,isRunning:o.a.bool,isStopped:o.a.bool},tt.defaultProps={isPending:!1,isRunning:!1,isStopped:!1};var rt=function(e){switch(e.icon){case"alert-triangle":return r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),r.a.createElement("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),r.a.createElement("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"}));case"cancel":return r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{strokeWidth:"1.5",d:"M7 17L17 7"}),r.a.createElement("path",{strokeWidth:"1.5",d:"M7 7L17 17"}),r.a.createElement("circle",{strokeWidth:"1.5",cx:"12",cy:"12",r:"7.25"}));case"check-circle":return r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),r.a.createElement("polyline",{points:"22 4 12 14.01 9 11.01"}));case"x-circle":return r.a.createElement(r.a.Fragment,null,r.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),r.a.createElement("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),r.a.createElement("line",{x1:"9",y1:"9",x2:"15",y2:"15"}));case"minus-circle":return r.a.createElement(r.a.Fragment,null,r.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),r.a.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}));case"circle":return r.a.createElement("circle",{strokeWidth:"1.5",cx:"12",cy:"12",r:"7.25"});case"clock":return r.a.createElement(r.a.Fragment,null,r.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),r.a.createElement("polyline",{points:"12 6 12 12 16 14"}));case"chevron-down":return r.a.createElement("polyline",{points:"6 9 12 15 18 9"});case"delete":return r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M21 4H8l-7 8 7 8h13a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z"}),r.a.createElement("line",{x1:"18",y1:"9",x2:"12",y2:"15"}),r.a.createElement("line",{x1:"12",y1:"9",x2:"18",y2:"15"}));case"eye":return r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),r.a.createElement("circle",{cx:"12",cy:"12",r:"3"}));case"eye-off":return r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),r.a.createElement("line",{x1:"1",y1:"1",x2:"23",y2:"23"}));case"loader":return r.a.createElement(r.a.Fragment,null,r.a.createElement("line",{x1:"12",y1:"2",x2:"12",y2:"6"}),r.a.createElement("line",{x1:"12",y1:"18",x2:"12",y2:"22"}),r.a.createElement("line",{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"}),r.a.createElement("line",{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"}),r.a.createElement("line",{x1:"2",y1:"12",x2:"6",y2:"12"}),r.a.createElement("line",{x1:"18",y1:"12",x2:"22",y2:"12"}),r.a.createElement("line",{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"}),r.a.createElement("line",{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"}));case"more-vertical":return r.a.createElement(r.a.Fragment,null,r.a.createElement("circle",{cx:"12",cy:"12",r:"1"}),r.a.createElement("circle",{cx:"12",cy:"5",r:"1"}),r.a.createElement("circle",{cx:"12",cy:"19",r:"1"}));case"pause":return r.a.createElement(r.a.Fragment,null,r.a.createElement("rect",{x:"6",y:"4",width:"4",height:"16"}),r.a.createElement("rect",{x:"14",y:"4",width:"4",height:"16"}));case"play":return r.a.createElement("polygon",{points:"5 3 19 12 5 21 5 3"});case"square":return r.a.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"});case"zap":return r.a.createElement("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"})}},it=function(e){var t=e.icon,a=e.size;return r.a.createElement("svg",{viewBox:"0 0 24 24",width:"".concat(a,"px"),height:"".concat(a,"px"),fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",focusable:"false"},r.a.createElement(rt,{icon:t}))},ct=it;rt.propTypes={icon:o.a.string.isRequired},it.propTypes={icon:o.a.string.isRequired,size:o.a.string},it.defaultProps={size:"24"};var lt=function(){var e=Object(n.useContext)(te),t=e.queue,a=e.isQueueRunning,i=e.setQueueRunning,c=e.setQueueClear,l=e.isQueueStopped,o=!!t.length;return r.a.createElement("div",{className:"migration_info__queue_controls"},r.a.createElement("button",{className:"button button--small",title:"Stop and clear the queue",type:"button",onClick:function(){c()},disabled:l||!o},r.a.createElement(ct,{icon:"square",size:"16"})),r.a.createElement("button",{className:"button button--small",title:a?"Pause queue":"Continue queue",type:"button",disabled:!o,onClick:function(){i()}},r.a.createElement(ct,{icon:a?"pause":"play",size:"16"})))};function ot(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function st(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(a),!0).forEach((function(t){d()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ot(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ut=function(e,t){return e.reduce((function(e,a){return e+a[t]}),0)},mt=function(e){var t=e.href,a=e.title;return r.a.createElement("a",{href:t,title:a,className:"admin-item__link"},a)},pt=function(e){var t,a=e.migrations,i=Object(n.useContext)(te),c=i.active,l=i.links,o=et(),s=Object(S.A)(a),u=ut(a,"importedCount"),m=ut(a,"totalCount"),p=1===a.length,d=p?{label:(t=a[0]).label,infoLinks:t.links}:{label:null,infoLinks:l},f=d.label,g=d.infoLinks,v=g?Object.entries(g).filter((function(e){return"text/html"===b()(e,2)[1].type})).map((function(e){var t,a,n=b()(e,2),r=n[0],i=n[1],c=((a={"https://github.com/acquia/acquia_migrate#link-rel-migration-messages":{title:"Total errors: ".concat((t=i).title)}}).hasOwnProperty(t.rel)?a[t.rel]:{title:t.title}).title;return st(st({id:r},i),{},{title:p?c:i.title})})):[],E=c.hasOwnProperty("id"),y="Data ".concat(E?"importing":"imported");return Object(n.useEffect)((function(){document.documentElement.style.setProperty("--offset-top","".concat(o,"px"))}),[o]),r.a.createElement("div",{className:"migration_info"},r.a.createElement(Ze,{active:E,amount:Object(S.C)(s)}),r.a.createElement("div",{className:"migration_info__data"},r.a.createElement("h5",{className:"migration_info__title"},y,f?" (".concat(f,")"):"",r.a.createElement("span",null,":"," ",r.a.createElement("span",{className:"tabular"},u,"/",m))),r.a.createElement("ul",{className:"migration_info__list"},v.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(mt,{title:e.title,href:e.href}))}))),!p&&r.a.createElement("div",{className:"migration_info__queue"},r.a.createElement(nt,null),r.a.createElement(lt,null))))},dt=pt;function ft(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function gt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(a),!0).forEach((function(t){d()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ft(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}mt.propTypes={title:o.a.string.isRequired,href:o.a.string.isRequired},pt.propTypes={migrations:o.a.arrayOf(o.a.shape({id:o.a.string,index:o.a.number,label:o.a.string,consistsOf:o.a.arrayOf(o.a.object),dependencies:o.a.arrayOf(o.a.object),lastImported:o.a.object,links:o.a.object,importedCount:o.a.number,processedCount:o.a.number,totalCount:o.a.number,skipped:o.a.bool,completed:o.a.bool,status:o.a.object}))},pt.defaultProps={migrations:[]};var bt=function(e){var t=e.id,a=Object(s.useTracking)(),i=Object(n.useContext)(te),l=i.migrations,o=i.isLoading,u=l.find((function(e){return e.id===decodeURIComponent(t)}));if(Object(n.useEffect)((function(){document.documentElement.style.setProperty("--page-height","none")}),[]),!l.length)return r.a.createElement(Ye,{title:"Migration: …",pending:o});var m=u.label,p=u.processedCount,d=u.totalCount,g=u.dependencies,b=u.consistsOf,v=u.links,E=Object.values(v).find((function(e){return"https://github.com/acquia/acquia_migrate#link-rel-migration-mapping"===e.rel})),y=Object(S.k)(v),h=y.preview,O=y.previewable,j=g.map((function(e){return gt(gt({},e),{},{label:l.find((function(t){return t.id===e.id})).label})})),w=function(e,n){a.trackEvent(gt(gt({type:e},n),{migrationID:t,migrationUnderlyingList:b.map((function(e){return e.id}))}))};return r.a.createElement("div",{className:"migrate-ui__migration_detail region-content"},r.a.createElement(f.a,null,r.a.createElement(Ve.a,null,r.a.createElement(We.a,null,r.a.createElement(Be.a,{href:"../../../../",title:"Home"},"Home")),r.a.createElement(We.a,null,r.a.createElement(c.a,{to:"../../"},"Migrations")),r.a.createElement(We.a,null,r.a.createElement("span",null,m))),r.a.createElement(Ue.a,{title:"Migration: ".concat(m)}),r.a.createElement(dt,{migrations:[u]}),r.a.createElement(Ge.a,null,O?r.a.createElement(Je.a,{to:"preview"},"Preview"):null,r.a.createElement(Je.a,{to:"./"},"Mapping"),r.a.createElement(Je.a,{to:"details"},"Details"))),r.a.createElement(c.c,{primary:!1},O&&r.a.createElement(Te,{path:"preview",preview:h,completed:p===d,track:w}),r.a.createElement(He,{path:"/",mapping:E,track:w}),r.a.createElement(ue,{path:"details",dependencies:j,consistsOf:b,track:w})))},vt=bt;bt.propTypes={id:o.a.string},bt.defaultProps={id:""};var Et=function(e){var t=e.value,a=e.className,n=Object($e.b)({value:t});return r.a.createElement($e.a.span,{className:"tabular ".concat(a)},n.value.interpolate(Math.round))},yt=Et;Et.propTypes={value:o.a.oneOfType([o.a.number,o.a.string]).isRequired,className:o.a.string},Et.defaultProps={className:""};var ht=function(e){var t=e.label,a=e.value,n=e.children,i=e.type,c=void 0===i?"inline":i,l=e.modifier,o=void 0===l?"small":l;return r.a.createElement("div",{className:"".concat("inline"===c?"ajax-progress ajax-progress-bar":""," ").concat("small"===o?"progress--small":"")},r.a.createElement("div",{className:"progress","aria-live":"polite"},r.a.createElement("div",{className:"progress__label",title:t},t),r.a.createElement("div",{className:"progress__track"},r.a.createElement("div",{className:"progress__bar",style:{width:"".concat(a,"%")}})),r.a.createElement("div",{className:"progress__percentage"},r.a.createElement(yt,{value:a}),"%"),r.a.createElement("div",{className:"progress__description"},n)))},Ot=ht;ht.propTypes={label:o.a.string.isRequired,value:o.a.number.isRequired,children:o.a.oneOfType([o.a.arrayOf(o.a.node),o.a.node]).isRequired,type:o.a.string,modifier:o.a.string},ht.defaultProps={type:"inline",modifier:"small"};var jt=function(e){var t=e.item,a=t.title,n=t.progressRatio,i=t.errors?n||100:100*n;return r.a.createElement(Ot,{label:a,value:i,type:"full",modifier:"large"},r.a.createElement("span",null,"Please wait for this import to finish before leaving this window."))},wt=function(){var e=x(),t=e.active,a=e.queue,i=e.addToQueue,c=e.isQueueCompleted,l=e.cleanupQueue,o=t.qid||"",s=Object(n.useContext)(te),u=s.initialImportLink,m=s.setInitialImporting;return Object(n.useEffect)((function(){if(u){var e=u.title,t=u.href;i({id:"initialImport",title:e,start:{href:t},operation:"import"})}}),[u]),Object(n.useEffect)((function(){a.length&&c&&setTimeout((function(){l(),m(!1)}),1e3)}),[o]),r.a.createElement("div",{className:"initial_import"},a.map((function(e){return r.a.createElement(jt,{key:e.qid,item:e})})))};jt.propTypes={item:o.a.shape({title:o.a.string,progressRatio:o.a.number,errors:o.a.object}).isRequired};var _t=a(62),kt=a(66),Pt=a(68),qt=Object(kt.a)(Pt.a),Nt=function(){return r.a.createElement(w.b,null,r.a.createElement(w.d,null,r.a.createElement(wt,null)),r.a.createElement(w.a,{prototype:_t.a},r.a.createElement(qt,null)))},Rt=function(){var e=Object(n.useContext)(te).basepathPreselect;return r.a.createElement("div",null,r.a.createElement("h2",null,"Migration data not yet chosen."),r.a.createElement("p",null,r.a.createElement(Be.a,{href:e,title:"Select data to migrate"},r.a.createElement("span",null,"Choose which data to import from your source site")),r.a.createElement("span",null,", then you will be guided back to this dashboard to start migrations!")))},xt=a(234),Tt=a(233),Ct=function(e){var t=e.buttons,a=Object(h.a)(!1),n=b()(a,2),i=n[0],c=n[1],l=Object(h.a)(!1),o=b()(l,2),s=o[0],u=o[1];return r.a.createElement("div",{className:"dropdown dropleft"},s?r.a.createElement(ye.a,null):r.a.createElement("a",{role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":i,onClick:c},r.a.createElement(ct,{icon:"more-vertical"})),r.a.createElement("div",{className:"dropdown-menu ".concat(i?"show":"")},t.map((function(e){return r.a.createElement(Ie,{key:e.key,button:e,className:"dropdown-item",action:function(){c(),u(),e.action()}})}))))},St=Ct;Ct.propTypes={buttons:o.a.arrayOf(o.a.shape({key:o.a.string.isRequired,rel:o.a.string.isRequired,title:o.a.string.isRequired,action:o.a.func.isRequired}))},Ct.defaultProps={buttons:[]};var Dt=r.a.createContext(),It=function(e){var t=e.parentRef,a=e.children,i=t.current?t.current.scrollTop:0,c=Object(n.useState)(""),l=b()(c,2),o=l[0],s=l[1],u=Object($e.b)((function(){return{offset:0,from:{offset:0},reset:!0,onFrame:function(e){var a=e.offset;t.current&&t.current.scrollTo(0,a)}}})),m=b()(u,2)[1];return r.a.createElement(Dt.Provider,{value:{scrollParent:function(e){m({from:{offset:i},offset:e})},isChildFocused:function(e){return o===e},focusChild:function(e){s(e),setTimeout((function(){s("")}),1e3)}}},a)};It.propTypes={parentRef:o.a.shape({current:o.a.element}).isRequired,children:o.a.oneOfType([o.a.arrayOf(o.a.node),o.a.node]).isRequired};var Ft=function(e){var t=e.dependencies,a=Object(h.a)(!1),i=b()(a,2),c=i[0],l=i[1],o=Object(n.useContext)(Dt).focusChild;return r.a.createElement("div",{className:"dropdown dropleft"},r.a.createElement("a",{className:"dropdown-toggle",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":c,onClick:l},r.a.createElement(ct,{icon:"chevron-down"})),r.a.createElement("div",{className:"dropdown-menu ".concat(c?"show":"")},t.map((function(e){return r.a.createElement("div",{key:e.id,className:"dropdown-item"},e.incomplete?r.a.createElement("a",{title:"jump to ".concat(e.label," migration"),className:"migration__".concat(e.incomplete?"danger":"success"," migration__import-status"),onClick:function(){return t=e.id,l(),void o(t);var t}},e.label):e.label)}))))},Lt=function(e){var t=e.dependencies,a=e.hasImported,n=e.showDependencies,i=e.link,c="Not available",l="muted";if(!i&&!n)return r.a.createElement("span",{className:"migration__".concat(l," migration__import-status")},c);var o=t.length>0;if(n&&o){var s=o&&t.some((function(e){return e.incomplete}));c=s?"Unmet dependencies":"No unmet dependencies",l=s?"danger":"success"}else i?(c="Ready for ".concat(i.title),l="success"):c=a?"Already imported":"Not ready";return r.a.createElement("div",{className:"migration__status"},r.a.createElement("span",{className:"migration__".concat(l," migration__import-status")},c),n&&o&&r.a.createElement(Ft,{dependencies:t}))},Qt=Lt;Ft.propTypes={dependencies:o.a.arrayOf(o.a.object)},Ft.defaultProps={dependencies:[]},Lt.propTypes={dependencies:o.a.arrayOf(o.a.object),hasImported:o.a.bool.isRequired,showDependencies:o.a.bool.isRequired,link:o.a.shape({rel:o.a.string,title:o.a.string,href:o.a.string})},Lt.defaultProps={dependencies:[],link:null};var Mt=a(235),At=a(232),zt=a(146),Ht=a(147),Ut=a(231),Vt=a(43),Wt=function(e,t){var a=Object(n.useRef)();Object(n.useEffect)((function(){a.current=e}),[e]),Object(n.useEffect)((function(){if(null!==t){var e=setInterval((function(){a.current()}),t);return function(){return clearInterval(e)}}}),[t])},Bt=function(e){var t=e.start;return r.a.createElement("span",null,"started ",Object(Mt.a)(t,Date.now()),r.a.createElement("br",null),"still in progress")},Gt=function(e){var t=e.startTime,a=e.endTime,i=e.start,c=e.end,l=e.duration,o=Object(n.useState)(!1),s=b()(o,2),u=s[0],m=s[1],p=Object(n.useState)(Date.now()),d=b()(p,2),f=d[0],g=d[1],v=Object(At.a)(i,{addSuffix:!0,includeSeconds:!0}),E=Object(zt.a)(i,Vt.a),y=Object(zt.a)(c,Vt.a),h=Object(Mt.a)(i,f),O=Object(Ht.a)(f,i)>60?3e4:2e3,j=Object(Ut.a)(Object(Vt.c)(l));return Wt((function(){return g(Date.now())}),O),r.a.createElement("div",{className:"migration__last_imported"},r.a.createElement("a",{onClick:function(){return m(!u)},title:h},v,r.a.createElement("br",null),"took ",j||"less than a second"),r.a.createElement("div",{className:"migration__last_imported_details ".concat(u?"migration__last_imported_details--is-visible":"")},"Started: ",r.a.createElement("span",{title:t},E),r.a.createElement("br",null),"Finished: ",r.a.createElement("span",{title:a},y)))},Jt=function(e){var t=e.imported;if(!t)return r.a.createElement("span",null,"Not imported");var a=t.startTime,n=t.endTime,i=t.duration,c=Object(Vt.b)(a);if(!n)return r.a.createElement(Bt,{start:c});var l=Object(Vt.b)(n);return r.a.createElement(Gt,{startTime:a,endTime:n,start:c,end:l,duration:i})},Kt=Jt;Bt.propTypes={start:o.a.instanceOf(Date).isRequired},Gt.propTypes={startTime:o.a.string.isRequired,endTime:o.a.string.isRequired,start:o.a.instanceOf(Date).isRequired,end:o.a.instanceOf(Date).isRequired,duration:o.a.number.isRequired},Jt.propTypes={imported:o.a.shape({startTime:o.a.string,endTime:o.a.string,duration:o.a.number})},Jt.defaultProps={imported:null};var Yt=function(e){var t=e.status,a=e.importedCount,n=e.totalCount,i=t.code,c=t.message,l=["IMPORTED_WARN","IMPORTING_ERR","IMPORTED_ERR"].includes(i)?"".concat("migration__import-status migration","__warning"):"";return r.a.createElement("span",{title:c,className:l},r.a.createElement(yt,{value:a}),"/",r.a.createElement("span",{className:"tabular"},n))},$t=Yt;Yt.propTypes={status:o.a.shape({code:o.a.string,message:o.a.string}).isRequired,importedCount:o.a.number.isRequired,totalCount:o.a.number.isRequired};var Xt=function(e){var t=e.imported;if(!t)return null;var a=t.startTime,n=t.endTime,i=t.duration;if(n||i)return null;var c=Object(Vt.b)(a);return r.a.createElement("span",null,"started ",Object(Mt.a)(c,Date.now()))},Zt=function(e){var t=e.label,a=e.item,i=e.imported,c=a.id,l=a.qid,o=a.operation,s=a.pending,u=a.errors,m=Object(n.useContext)(te),p=m.migrations,d=m.removeFromQueue,f=Object(S.B)(Object(S.f)(c,p),o),g=u?f||100:100*f;return r.a.createElement("div",{className:"migration_progress"},r.a.createElement(Ot,{label:t,value:g},r.a.createElement(Xt,{imported:i})),r.a.createElement("div",{className:"migration_progress__cancel"},s?r.a.createElement("span",{title:"Pending response"},r.a.createElement(ct,{icon:"circle"})):r.a.createElement("a",{rel:"https://github.com/acquia/acquia_migrate#link-rel-dequeue-item",onClick:function(){d(l)},title:"Cancel",role:"button","aria-label":"Cancel"},r.a.createElement(ct,{icon:"cancel"}),r.a.createElement("span",{className:"visually-hidden"},"Cancel"))))},ea=Zt;Xt.propTypes={imported:o.a.shape({startTime:o.a.string,endTime:o.a.string,duration:o.a.number})},Xt.defaultProps={imported:null},Zt.propTypes={label:o.a.string,item:o.a.shape({id:o.a.string,qid:o.a.string,operation:o.a.string,pending:o.a.bool,errors:o.a.object}).isRequired,imported:o.a.shape({startTime:o.a.string,endTime:o.a.string,duration:o.a.number})},Zt.defaultProps={label:"",imported:null};var ta=a(54),aa=function(e){var t=e.className,a=e.children;return r.a.createElement("td",{className:t},r.a.createElement("div",null,a))},na=function(e){var t=e.data,a=e.columns,i=e.operation,c=e.selections,l=e.selectSingle,o=t.id,s=t.page,u=t.status,m=Object(n.useContext)(te),p=m.migrations,f=m.updateMigration,g=m.removeFromList,b=m.isInitialImporting,v=m.active,E=m.queue,y=Object(n.useContext)(Dt),h=y.scrollParent,O=y.isChildFocused,j=Object(n.useRef)(null),w=Object(S.f)(o,p),_=Object(S.m)(o,E),k=w.label,P=w.status,q=w.importedCount,N=w.totalCount,R=w.lastImported,x=w.links,T={"https://github.com/acquia/acquia_migrate#link-rel-update-resource":function(e,t,a){f(t,a)}},C=Object(S.k)(x).previewable,D=Object(S.b)(w,p,"import"),I=x.hasOwnProperty("rollback"),F=v&&v.id===o,L=!!_,Q="removed"===u,M=O(o),A=x.hasOwnProperty(i),z={checked:!!A&&(c.hasOwnProperty(o)&&c[o]),disabled:b||!A||Q};Object(n.useEffect)((function(){Q&&setTimeout((function(){g(o,s,_)}),1500)}),[Q]),Object(n.useEffect)((function(){return M&&j.current&&h(j.current.offsetTop-j.current.offsetHeight),function(){l(d()({},o,!1))}}),[M]);var H=Object.keys(x).filter((function(e){return T.hasOwnProperty(x[e].rel)})).map((function(e){return{key:"".concat(e,"-").concat(o),rel:x[e].rel,title:x[e].title,action:function(){return T[x[e].rel](e,x[e].href,x[e].params)}}})),U=x["migration-messages"];return r.a.createElement("tr",{id:o,ref:j,className:"migration table_row ".concat(Q?"migration__removed migration__removed--".concat(Object(S.g)(w)):""," ").concat(M?"migration__focused":"")},a.includes("actions")&&r.a.createElement(aa,{className:"migration__actions"},L?r.a.createElement(ct,{size:"16",icon:F?"zap":"clock"}):r.a.createElement(ta.a,{id:o,options:z,toggle:function(){l(d()({},o,!z.checked))}})),a.includes("name")&&r.a.createElement(aa,null,_?r.a.createElement(ea,{item:_,label:k,imported:R}):r.a.createElement(re,{id:o,previewable:C},k)),a.includes("status")&&r.a.createElement(aa,{className:"migration_row__status"},r.a.createElement(Qt,{dependencies:D,hasImported:I,showDependencies:"import"===i,link:A?x[i]:null})),a.includes("imported")&&r.a.createElement(aa,{className:"migration_row__imported_count col--align"},r.a.createElement($t,{status:P,importedCount:q,totalCount:N})),a.includes("messages")&&r.a.createElement(aa,{className:"migration_row__message_count col--align"},U?r.a.createElement(Be.a,{href:U.href,title:"View ".concat(k," messages")},r.a.createElement(yt,{value:U.title})):r.a.createElement("span",{className:"tabular"},"0")),a.includes("lastImported")&&r.a.createElement(aa,{className:"migration_row__last_imported"},r.a.createElement(Kt,{imported:R})),a.includes("ops")&&r.a.createElement(aa,{className:"migration_row__operations col--align"},r.a.createElement(St,{buttons:H})))},ra=na;function ia(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}aa.propTypes={className:o.a.string,children:o.a.oneOfType([o.a.arrayOf(o.a.element),o.a.element]).isRequired},aa.defaultProps={className:""},na.propTypes={data:o.a.shape({id:o.a.string,index:o.a.number,lastImported:o.a.shape({startTime:o.a.string,endTime:o.a.string,duration:o.a.number}),page:o.a.string,status:o.a.string}).isRequired,columns:o.a.arrayOf(o.a.string).isRequired,operation:o.a.string.isRequired,selections:o.a.objectOf(o.a.bool),selectSingle:o.a.func.isRequired},na.defaultProps={selections:{}};var ca=function(e){var t=e.migrations,a=e.options,i=e.operation,c=e.setOperation,l=e.selections,o=e.selectAll,u=Object(s.useTracking)(),m=Object(n.useContext)(te),p=m.addToQueue,f=m.limiters.searchTitle,g=m.updateLimiter,v=Object.entries(l).filter((function(e){return b()(e,2)[1]}));return r.a.createElement("div",{className:"migration__operations"},r.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),"import"===i){var a=v.reduce((function(e,a){var n=b()(a,1)[0],r=Object(S.f)(n,t),i=r.processedCount,c=r.totalCount,l=r.consistsOf;return e.migrationInitiatedQuantity+=1,e.migrationInitiatedRows+=c-i,e.migrationInitiatedList.push(n),e.migrationInitiatedUnderlyingList=[].concat(E()(e.migrationInitiatedUnderlyingList),E()(l.map((function(e){return e.id})))),e}),{migrationInitiatedQuantity:0,migrationInitiatedRows:0,migrationInitiatedList:[],migrationInitiatedUnderlyingList:[]});u.trackEvent(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ia(Object(a),!0).forEach((function(t){d()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ia(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({type:"User initiated migration"},a))}v.forEach((function(e){var a=b()(e,1)[0],n=Object(S.f)(a,t),r=n.id,c=n.label,l=n.links[i].href;p({id:r,title:c,start:{href:l},operation:i})})),o(!1)},className:"migrate__exposed-form"},r.a.createElement("div",{className:"migrate__exposed-form__item"},r.a.createElement("select",{name:"migration__operations_selector",id:"migration__operations_selector",className:"form-element form-element--type-select",onChange:function(e){c(e.target.value)},value:i},a.map((function(e){var t=b()(e,2),a=t[0],n=t[1];return r.a.createElement("option",{key:a,value:a},n)})))),r.a.createElement("div",{className:"migrate__exposed-form__item migrate__exposed-form__item--actions"},r.a.createElement("button",{type:"submit",disabled:""===i||!v.length,className:"button button--primary form-submit"},v.length?"Apply to (".concat(v.length,") selected"):"No migrations selected")),r.a.createElement(Oe.a,{name:f.name,type:"search",value:f.value,size:"30",placeholder:"Filter by migration name",onChange:function(e){g(f.name,e.target.value)}})))},la=ca;function oa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function sa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?oa(Object(a),!0).forEach((function(t){d()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):oa(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}ca.propTypes={migrations:o.a.arrayOf(o.a.shape({id:o.a.string,index:o.a.number,label:o.a.string,consistsOf:o.a.arrayOf(o.a.object),dependencies:o.a.arrayOf(o.a.object),lastImported:o.a.object,links:o.a.object,importedCount:o.a.number,processedCount:o.a.number,totalCount:o.a.number,skipped:o.a.bool,completed:o.a.bool,status:o.a.object})),options:o.a.arrayOf(o.a.array),operation:o.a.string,setOperation:o.a.func.isRequired,selections:o.a.objectOf(o.a.bool),selectAll:o.a.func.isRequired},ca.defaultProps={migrations:[],operation:"",options:[],selections:{}};var ua=function(e,t){switch(t.type){case"selectSingle":return sa(sa({},e),t.selected);case"selectAll":return Object.fromEntries(Object(S.o)(t.migrations,t.operation).map((function(e){return[e.id,t.value]})));default:return e}},ma=function(e){var t=Object(S.h)(e),a=Array.from(t.keys()).sort().join("-"),r=Object(n.useState)([]),i=b()(r,2),c=i[0],l=i[1],o=Object(n.useState)(""),s=b()(o,2),u=s[0],m=s[1],p=Object(n.useState)(!1),d=b()(p,2),f=d[0],g=d[1],v=Object(n.useReducer)(ua,{}),E=b()(v,2),y=E[0],h=E[1];Object(n.useEffect)((function(){g(!1),h({type:"selectAll",value:!1,operation:u,migrations:e})}),[u]),Object(n.useEffect)((function(){""!==a&&(l(Array.from(t)),m(t.has("import")?"import":t.keys().next().value))}),[a]);return{operation:u,setOperation:m,options:c,selections:y,checked:f,selectSingle:function(e){h({type:"selectSingle",selected:e})},selectAll:function(t){g(t),h({type:"selectAll",value:t,operation:u,migrations:e})}}},pa=function(e){var t=e.name,a=e.list,i=a.columns,c=a.currentRows,l=Object(n.useContext)(te),o=l.migrations,s=l.resetList,u=l.limiters.searchTitle,m=l.isInitialImporting,p=Object(S.v)(a),d=c.filter((function(e){return"removed"!==e.status})).filter((function(e){return u.test(e)})).map((function(e){return Object(S.f)(e.id,o)})),f=Object(n.useRef)(null),g=ma(d),b=g.options,v=g.operation,E=g.setOperation,y=g.selections,h=g.checked,O=g.selectSingle,j=g.selectAll;return Object(n.useEffect)((function(){p&&setTimeout((function(){s(t)}),1500)}),[p]),r.a.createElement(It,{parentRef:f},r.a.createElement("div",{className:"sticky-outer"},i.includes("actions")&&r.a.createElement(la,{migrations:d,options:b,operation:v,setOperation:E,selections:y,selectAll:j}),r.a.createElement("div",{className:"sticky-enabled",ref:f},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,i.includes("actions")&&r.a.createElement("th",null,r.a.createElement(ta.a,{id:"allMigrations",options:{checked:h,disabled:m},toggle:function(){j(!h)}})),i.includes("name")&&r.a.createElement("th",null,"Name"),i.includes("status")&&r.a.createElement("th",null,"Status"),i.includes("imported")&&r.a.createElement("th",{className:"col--align"},"Imported/Total"),i.includes("messages")&&r.a.createElement("th",{className:"col--align"},"Messages"),i.includes("lastImported")&&r.a.createElement("th",null,"Last Imported"),i.includes("ops")&&r.a.createElement("th",{className:"col--align"},"Operations"))),r.a.createElement("tbody",null,c.filter((function(e){return u.test(e)})).map((function(e){return r.a.createElement(ra,{key:e.id,data:e,columns:i,operation:v,selections:y,selectSingle:O})})))))))},da=pa;pa.propTypes={name:o.a.string.isRequired,list:o.a.shape({title:o.a.string,initialized:o.a.bool,activeCount:o.a.number,columns:o.a.arrayOf(o.a.string),currentRows:o.a.arrayOf(o.a.object),filter:o.a.func,sort:o.a.func,path:o.a.string,to:o.a.string}).isRequired};var fa=function(e){var t=e.lists;return r.a.createElement(c.b,null,(function(e){var a=e.location;return r.a.createElement(xt.a,null,r.a.createElement(Tt.a,{key:a.key,timeout:500,classNames:"migrations_view"},r.a.createElement(c.c,{location:a,primary:!1,className:"migrations_view"},t.map((function(e){return r.a.createElement(da,{key:"migration-list-".concat(e.name),list:e,name:e.name,path:e.path})})))))}))},ga=fa;fa.propTypes={lists:o.a.arrayOf(o.a.shape({})).isRequired};var ba=function(e,t){var a=Object(n.useState)(0),r=b()(a,2),i=r[0],c=r[1];return Object(n.useEffect)((function(){if(e){var a=new ResizeObserver((function(){var a=e.getBoundingClientRect();c(a[t])}));return a.observe(e),function(){a.unobserve(e)}}}),[e]),i},va=function(){var e=Object(n.useContext)(te),t=e.lists,a=e.links,i=e.initialImportLink,c=e.migrations,l=document.querySelector(".content-header"),o=document.querySelector(".content-header .tabs-wrapper"),s=ba(l,"height"),u=ba(o,"height");return Object(n.useEffect)((function(){document.documentElement.style.setProperty("--page-height","calc((100vh - var(--offset-top)) + (var(--header-height) - var(--tabs-height)))"),document.documentElement.style.setProperty("--migration-list-height","calc(100vh - var(--header-height))")}),[]),Object(n.useEffect)((function(){document.documentElement.style.setProperty("--header-height","".concat(s,"px")),document.documentElement.style.setProperty("--tabs-height","".concat(u,"px"))}),[s,u]),r.a.createElement("div",{className:"region-content"},r.a.createElement(f.a,null,r.a.createElement(Ve.a,null,r.a.createElement(We.a,null,r.a.createElement(Be.a,{href:"../../",title:"Home"},"Home")),r.a.createElement(We.a,null,r.a.createElement("span",null,"Migrations"))),r.a.createElement(Ue.a,{title:"Migrations"}),c?r.a.createElement(dt,{migrations:E()(c.filter((function(e){return!e.skipped})))}):null,r.a.createElement(Ge.a,null,t.map((function(e){return r.a.createElement(Je.a,{key:"tab-".concat(e.name),to:e.to},e.title,r.a.createElement("span",{className:"badge ".concat(Object(S.v)(e)?"badge--has-new":"")},e.activeCount))})))),a?null:r.a.createElement(ye.a,{message:"Loading…"}),r.a.createElement(Nt,{link:i}),a&&Object(S.s)(a)?r.a.createElement(Rt,null):r.a.createElement(ga,{lists:t}))},Ea=function(e){var t=e.basepath,a=e.basepathPreselect,n=e.source;return r.a.createElement("div",{className:"migrate-ui"},r.a.createElement(ae,{basepath:t,basepathPreselect:a,source:n},r.a.createElement(c.c,{basepath:t,primary:!1},r.a.createElement(va,{path:"/*"}),r.a.createElement(vt,{path:"migration/:id/*"}))))},ya=new m.a,ha=u()({},{dispatch:function(e){return ya.logEvent(e)}})(Ea);Ea.propTypes={basepath:o.a.string.isRequired,basepathPreselect:o.a.string.isRequired,source:o.a.string.isRequired};var Oa=a(48),ja=Object(kt.a)(Pt.a);document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector("#decoupled-page-root"),t=e.getAttribute("data-module-path");a.p="/".concat(t,"/ui/dist/");var n=e.getAttribute("data-basepath"),c=e.getAttribute("data-basepath-preselect"),l=e.getAttribute("data-source");(new m.a).init(e.getAttribute("data-tracking-api-key"),Object(Oa.a)(e),void 0),e&&Object(i.render)(r.a.createElement(w.b,null,r.a.createElement(w.d,null,r.a.createElement(ha,{basepath:n,basepathPreselect:c,source:l})),r.a.createElement(w.a,null,r.a.createElement(ja,null))),e)}))}});