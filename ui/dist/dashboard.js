!function(e){function t(t){for(var a,c,l=t[0],o=t[1],s=t[2],m=0,d=[];m<l.length;m++)c=l[m],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&d.push(r[c][0]),r[c]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a]);for(u&&u(t);d.length;)d.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,l=1;l<n.length;l++){var o=n[l];0!==r[o]&&(a=!1)}a&&(i.splice(t--,1),e=c(c.s=n[0]))}return e}var a={},r={1:0},i=[];function c(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((function(t,a){n=r[e]=[t,a]}));t.push(n[2]=a);var i,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=function(e){return c.p+""+({5:"tracker"}[e]||e)+".bundle.js"}(e);var o=new Error;i=function(t){l.onerror=l.onload=null,clearTimeout(s);var n=r[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;o.message="Loading chunk "+e+" failed.\n("+a+": "+i+")",o.name="ChunkLoadError",o.type=a,o.request=i,n[1](o)}r[e]=void 0}};var s=setTimeout((function(){i({type:"timeout",target:l})}),12e4);l.onerror=l.onload=i,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=a,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(n,a,function(t){return e[t]}.bind(null,a));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="",c.oe=function(e){throw console.error(e),e};var l=window.webpackJsonp=window.webpackJsonp||[],o=l.push.bind(l);l.push=t,l=l.slice();for(var s=0;s<l.length;s++)t(l[s]);var u=o;i.push([225,0]),n()}({148:function(e,t,n){},225:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(22),c=(n.p,n(148),n(24)),l=n(10),o=n.n(l),s=n(4),u=n.n(s),m=n(26),d=n(1),p=n.n(d),f=n(7),E=n.n(f),g=n(57),b=n(48),v=n(11),O=(n(49),function(e){var t=Object(a.useState)(e),n=p()(t,2),r=n[0],i=n[1];return[r,function(){i(!r)}]}),y=n(39),h=function(e){return 1===e.progressRatio&&!e.next};function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=function(e,t){return e.find((function(e){return function(e,t){return e.qid===t.qid}(e,t)}))||{id:null,qid:null,start:null,next:null,pending:null}},k=function(e,t){return _(e,t).pending},N=function(e,t){var n=e.findIndex((function(e){return e.qid===t.qid})),a=e[n+1];return a?{qid:a.qid,id:a.id}:{}},P=function(e,t){switch(t.type){case"add":var n="".concat(e.queue.length,"-").concat(t.item.id);return{active:e.active.hasOwnProperty("qid")?e.active:{id:t.item.id,qid:n},queue:[].concat(E()(e.queue),[w({progressRatio:0,qid:n},t.item)])};case"request":return w({},e,{queue:e.queue.map((function(e){return e.qid===t.item.qid?w({},e,u()({pending:!0},t.item.link,null)):e}))});case"update":return{active:t.item.next?e.active:N(e.queue,e.active,t.item),queue:e.queue.map((function(e){return e.qid===t.item.qid?w({},e,{start:null,next:null,pending:!1},t.item):e}))};case"cleanup":return w({},e,{queue:e.queue.filter((function(e){return(e.start||e.next||e.pending)&&1!==e.progressRatio}))});case"remove":return{active:e.active&&e.active.qid===t.qid?N(e.queue,e.active):e.active,queue:e.queue.filter((function(e){return e.qid!==t.qid}))};case"clear":return k(e.queue,e.active)?w({},e,{queue:e.queue.filter((function(e){return e.pending}))}):{active:{},queue:[]};default:return e}},x=function(){var e=Object(a.useContext)(v.c).throwError,t=O(!0),n=p()(t,2),r=n[0],i=n[1],c=O(!1),l=p()(c,2),o=l[0],s=l[1],u=Object(a.useReducer)(P,{queue:[],active:{}}),m=p()(u,2),d=m[0],f=m[1],E=d.queue,b=d.active,j=_(E,b),w=j.start,N=j.next,x=j.pending,q=Object(g.a)({deferFn:y.d}),C=q.data,S=q.run;Object(a.useEffect)((function(){C&&f({type:"update",item:C})}),[C]),Object(a.useEffect)((function(){if(w&&r&&!o){var t=_(E,b),n=t.qid,a=t.start.href;x||(f({type:"request",item:{qid:n,link:"start"}}),S({method:"POST",href:a,qid:n,throwError:e}))}}),[w,r]),Object(a.useEffect)((function(){if(N&&r&&!o){var t=_(E,b),n=t.qid,a=t.next.href;x||(f({type:"request",item:{qid:n,link:"next"}}),S({method:"GET",href:a,qid:n,throwError:e}))}}),[N,r]),Object(a.useEffect)((function(){o&&f({type:"clear"})}),[o,x]),Object(a.useEffect)((function(){0!==E.length||r||i()}),[E.length]);var D=function(e){return e.every(h)}(E),R=k(E,b);return{active:b,queue:E,addToQueue:function(e){o&&s(),f({type:"add",item:e})},removeFromQueue:function(e){f({type:"remove",qid:e})},cleanupQueue:function(){f({type:"cleanup"})},isQueueRunning:r,setQueueRunning:i,setQueueClear:function(){o||s()},isQueueStopped:o,isQueueCompleted:D,isActivePending:R}},q=n(58),C=n(45),S=n(2);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F=function(e,t){var n=e.id,a=e.attributes,r=e.relationships,i=e.links,c=a.label,l=a.lastImported,o=a.processedCount,s=a.importedCount,u=a.totalCount,m=a.completed,d=a.skipped,p=r.dependencies,f=r.consistsOf;return{id:n,index:t,label:c,status:Object(S.w)({importedCount:s,processedCount:o,totalCount:u,completed:m,skipped:d,links:i}),lastImported:l,processedCount:o,importedCount:s,totalCount:u,completed:m,skipped:d,dependencies:p.data.map((function(e){var t=e.meta.dependencyReasons;return{id:e.id,dependencyReasons:t}})),consistsOf:f.data.map((function(e){return{id:e.id}})),links:i}},I=[{name:"active",title:"In Progress",path:"/",to:"./",initialized:!1,columns:["actions","name","status","imported","messages","ops"],currentRows:[],filter:S.d,sort:S.B},{name:"needs-review",title:"Needs Review",path:"needs-review",to:"needs-review",initialized:!1,columns:["actions","name","imported","messages","lastImported","ops"],currentRows:[],filter:S.c,sort:S.C},{name:"completed",title:"Completed",path:"completed",to:"completed",initialized:!1,columns:["actions","name","imported","messages","lastImported","ops"],currentRows:[],filter:function(e){return e.filter((function(e){return e.completed}))},sort:S.C},{name:"skipped",title:"Skipped",path:"skipped",to:"skipped",initialized:!1,columns:["name","imported","messages","ops"],currentRows:[],filter:function(e){return e.filter((function(e){return e.skipped}))},sort:S.B}],T=function(e,t,n,a,r){return{id:e,index:a,lastImported:r,page:t,status:n}},L=function(e,t){if("remove"===t.type)return e.map((function(e){return e.name===t.page?function(e,t){return R({},e,{currentRows:e.currentRows.filter((function(e){return e.id!==t}))})}(e,t.id):e}));if("reset"===t.type){var n=e.find((function(e){return e.name===t.page})).currentRows.filter((function(e){return"new"===e.status})).map((function(e){return e.id}));return e.map((function(e){return e.name===t.page?function(e){return R({},e,{currentRows:E()(e.currentRows.map((function(e){return"new"===e.status?R({},e,{status:"initial"}):e})))})}(e):function(e,t){var n=e.currentRows.filter((function(e){return t.includes(e.id)&&"removed"===e.status})).map((function(e){return e.id}));return n.length?R({},e,{currentRows:e.currentRows.filter((function(e){return!n.includes(e.id)}))}):e}(e,n)}))}var a,r;return a=e,r=t.migrations,a.reduce((function(e,t){var n=t.filter(r);if(0!==t.currentRows.length||a.every((function(e){return e.initialized}))){var i=t.currentRows.filter((function(e){return"removed"!==e.status})).map((function(e){return e.id})),c=n.map((function(e){return e.id})),l=i.filter((function(e){return!c.includes(e)})),o=c.filter((function(e){return!i.includes(e)}));o.length&&(t.currentRows=t.sort([].concat(E()(t.currentRows),E()(n.filter((function(e){return o.includes(e.id)})).map((function(e){return T(e.id,t.name,"new",e.index,e.lastImported)})))))),l.length&&(t.currentRows=t.sort(t.currentRows.map((function(e){return l.includes(e.id)?R({},e,{status:"removed"}):e}))))}else t.currentRows=t.sort(n.map((function(e){return T(e.id,t.name,"initial",e.index,e.lastImported)})));return t.activeCount=t.currentRows.filter((function(e){return"removed"!==e.status})).length,t.initialized||(t.initialized=!0),[].concat(E()(e),[t])}),[])},M=r.a.createContext({}),Q=function(e){var t=e.basepath,n=e.source,i=e.children,c=Object(a.useState)([]),l=p()(c,2),o=l[0],s=l[1],u=Object(a.useState)({}),m=p()(u,2),d=m[0],f=m[1],E=Object(a.useReducer)(L,I),g=p()(E,2),b=g[0],O=g[1],h=x(),j=h.active,w=h.queue,_=h.addToQueue,k=h.removeFromQueue,N=h.cleanupQueue,P=h.isQueueRunning,S=h.setQueueRunning,D=h.setQueueClear,R=h.isQueueStopped,T=h.isQueueCompleted,Q=h.isActivePending,A=Object(q.a)(d).bulkUpdateMigrations,U=Object(a.useContext)(v.c).throwError,z=Object(C.a)({href:n,handleError:U}),H=z.isLoading,W=z.document;Object(a.useEffect)((function(){W&&(f(W.links),s(W.data.map(F)))}),[W]),Object(a.useEffect)((function(){o.length&&O({type:"update",migrations:o})}),[o]);return r.a.createElement(M.Provider,{value:{lists:b,links:d,migrations:o,updateMigration:function(e,t){t.data&&Object(y.b)({href:e,payload:{data:t.data}})},removeFromList:function(e,t,n){O({type:"remove",id:e,page:t}),n&&k(n.qid)},resetList:function(e){O({type:"reset",page:e}),N()},active:j,queue:w,addToQueue:_,removeFromQueue:k,isQueueRunning:P,setQueueRunning:S,setQueueClear:D,isQueueStopped:R,isQueueCompleted:T,isActivePending:Q,basepath:t,isLoading:H,bulkUpdateMigrations:A}},i)},A=function(e){var t=e.id,n=e.previewable,i=e.children,l=Object(a.useContext)(M).basepath;return r.a.createElement("div",{className:"migration__title"},r.a.createElement(c.a,{title:i,to:"".concat(l,"/migration/").concat(t).concat(n?"/preview":"")},i))},U=function(e){var t=e.one,n=void 0===t?null:t,a=e.two,i=void 0===a?null:a;return r.a.createElement("div",{className:"layout-row clearfix"},r.a.createElement("div",{className:"layout-column layout-column--half"},n),r.a.createElement("div",{className:"layout-column layout-column--half"},i))},z=function(e){var t=e.header,n=void 0===t?null:t,a=e.padding,i=void 0===a||a,c=e.children;return r.a.createElement("div",{className:"panel"},n&&r.a.createElement("h3",{className:"panel__title"},n),i?r.a.createElement("div",{className:"panel__content"},c):c)},H=function(e){var t=e.dependencies,n=e.consistsOf,i=e.track;Object(l.useTracking)().tracking;return Object(a.useEffect)((function(){i("User viewed details")}),[]),r.a.createElement(U,{one:r.a.createElement(z,{header:"Dependencies"},t.length?r.a.createElement("ul",{className:"migration__details_dependencies admin-list--panel admin-list"},t.map((function(e){return r.a.createElement("li",{key:e.id,className:"admin-item--panel"},r.a.createElement("h5",null,r.a.createElement(A,{id:e.id},e.label)),e.dependencyReasons&&r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"".concat(e.id,"-migrations")},"Because of:"),r.a.createElement("ul",{id:"".concat(e.id,"-migrations")},e.dependencyReasons.map((function(t){return r.a.createElement("li",{key:"".concat(e.id,"-").concat(t)},r.a.createElement("code",null,t))})))))}))):r.a.createElement("div",{className:"messages messages--warning"},r.a.createElement("p",null,"No dependencies found."))),two:r.a.createElement(z,{header:"Underlying Migrations"},n.length?r.a.createElement("ul",{className:"migration__details_underlying admin-list--panel admin-list"},n.map((function(e){return r.a.createElement("li",{key:e.id,className:"admin-item--panel"},r.a.createElement("code",null,e.id))}))):r.a.createElement("p",null,r.a.createElement("em",null,"No underlying migrations listed.")))})},W=n(74),K=n.n(W),B=function(e){var t=e.value;return Object(S.x)(t).split("; ").map((function(e,t){return r.a.createElement("code",{key:t},e)}))},G=function(e){var t=e.row;return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("code",null,t.sourceFieldName)," →"," ",r.a.createElement("code",null,t.destinationFieldName)),r.a.createElement("td",null,r.a.createElement(B,{value:t.sourceValueSimplified})),r.a.createElement("td",null,r.a.createElement(B,{value:t.destinationValueSimplified})))},V=function(e){var t=e.list;return r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Mapping"),r.a.createElement("th",null,"Source"),r.a.createElement("th",null,"Destination"))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement(G,{key:"".concat(e.sourceFieldName,"-").concat(e.destinationFieldName),row:e})}))))},J=function(e){var t=e.html;return r.a.createElement("div",{className:"migration_preview__live"},r.a.createElement("iframe",{srcDoc:t}))},Y=n(9),$=n(75);function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ee=function(e,t){var n=t.href;return Object(S.m)({href:n})},te=function(e){var t=e.link,n=e.setHref,a=e.setEvent;return r.a.createElement("a",{className:"".concat(t.id," button button--small"),href:"#",onClick:function(e){e.preventDefault(),n(t.href),a({type:"User previewed row",migrationPreviewQuery:Object(Y.b)(t.href)})}},t.title)},ne=function(e){var t=e.link,n=e.setHref,i=e.setEvent,c=e.offsetLinks,l=Object(a.useState)(""),o=p()(l,2),s=o[0],m=o[1],d=t["uri-template:suggestions"][0],f=d.label,E=d.variable;return r.a.createElement("form",{className:"exposed-form exposed-form--labeled",onSubmit:function(e){e.preventDefault(),i({type:"User previewed by search",migrationPreviewSearchTerm:s}),n(Object(Y.a)(u()({},E,s),t["uri-template:href"]))}},r.a.createElement($.a,{name:"preview_search",label:f,size:"40",type:"search",value:s,validation:{pattern:"(https?://|^/)(.*)"},onChange:function(e){m(e.target.value)}},"Source site URL should be either ",r.a.createElement("em",null,"relative")," (begin with"," ",r.a.createElement("code",null,"/"),")",r.a.createElement("br",null),"or ",r.a.createElement("em",null,"absolute")," (begin with ",r.a.createElement("code",null,"http://"),")"),r.a.createElement("div",{className:"form-actions form-item exposed-form__item--actions"},r.a.createElement("input",{type:"submit",className:"button form-submit",value:"Go"})),r.a.createElement("div",{className:"form-item exposed-form__item--divider"},r.a.createElement("strong",null,"or")),r.a.createElement("div",{className:"form-item"},r.a.createElement("label",{className:"form-item__label"},"Browse available rows"),r.a.createElement("div",{className:"migration__preview__links",role:"group","aria-label":"Offset rows"},c.map((function(e){return r.a.createElement(te,{key:"offset-".concat(e.id),link:e,setHref:n,setEvent:i})})))))},ae=function(e){var t=e.links,n=e.track,i=t["preview-by-offset"],c=t["preview-by-url"],l=Object(a.useState)([i]),o=p()(l,2),s=o[0],u=o[1],m=Object(a.useState)({raw:[],html:""}),d=p()(m,2),f=d[0],E=d[1],b=Object(a.useState)(i.href),v=p()(b,2),O=v[0],y=v[1],h=Object(a.useState)({type:"User previewed row",migrationPreviewQuery:Object(Y.b)(i.href)}),j=p()(h,2),w=j[0],_=j[1],k=Object(g.a)({deferFn:ee,href:O}),N=k.data,P=k.run;if(Object(a.useEffect)((function(){O&&P()}),[O]),Object(a.useEffect)((function(){if(N){var e="";if(N instanceof Error)e=N.message,console.error(N),O!==i.href&&y(i.href);else{e="OK";var t=N.data,a=t.attributes,r=t.links;u(r?Object.entries(r).map((function(e){var t=p()(e,2),n=t[0];return Z({},t[1],{id:n})})):[i]),E(a)}!function(e){if(w){var t=w.type,a=K()(w,["type"]);n(t,Z({},a,{migrationPreviewResponse:e})),_(null)}}(e)}}),[N]),!N)return r.a.createElement("div",{className:"spinner-border",role:"status"},r.a.createElement("span",{className:"visually-hidden"},"Loading…"));if(f){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Preview source site content in Drupal 9 by searching for a URL or by viewing the next available row."),r.a.createElement(ne,{link:c,setHref:y,setEvent:_,offsetLinks:s}),r.a.createElement(U,{one:r.a.createElement(z,{padding:!1},r.a.createElement(V,{list:f.raw})),two:r.a.createElement(z,{header:"Content Preview",padding:!1},r.a.createElement(J,{html:f.html}))}))}},re=function(e){var t=e.preview;return r.a.createElement("div",{className:"migration__preview--no-preview"},Object.entries(t).map((function(e){var t=p()(e,2),n=t[0],a=t[1];return r.a.createElement("div",{key:n,className:"messages messages--warning"},r.a.createElement("p",null,a.title))})))},ie=function(e){var t=e.preview,n=e.track;return r.a.createElement("div",{className:"migration__preview"},Object.values(t.links).length>0?r.a.createElement(ae,{links:t.links,track:n}):r.a.createElement(re,{preview:t.unmet}))},ce=n(101),le=n.n(ce),oe=function(e){var t=e.button,n=e.className,a=e.action,i=t.title,c=t.rel;return r.a.createElement("a",{title:i,rel:c,className:n,role:"button",onClick:function(e){e.preventDefault(),a()}},i)};function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var me=function(){return r.a.createElement("td",null,"— —")},de=function(e){var t=e.mapping,n=t.sourceFieldName,a=t.destinationFieldName,i=t.destinationFieldType,c=t.destinationFieldLabel,l=t.destinationFieldIsRequired,o=t.migrationProcessPlugins_THIS_WILL_CHANGE,s=t.overrides,u=n?r.a.createElement("td",null,r.a.createElement("code",null,n)):r.a.createElement(me,null),m=a?r.a.createElement(r.a.Fragment,null,r.a.createElement("td",{className:"migration__mapping_destination_fields"},r.a.createElement("code",null,a),r.a.createElement("p",null,c,l?r.a.createElement("abbr",{title:"Required Field"},"*"):"")),r.a.createElement("td",null,r.a.createElement("em",null,i))):r.a.createElement(r.a.Fragment,null,r.a.createElement(me,null),r.a.createElement(me,null)),d=o?r.a.createElement("td",null,r.a.createElement("code",null,Object(S.x)(o))):r.a.createElement(me,null),p=void 0!==s?r.a.createElement("td",null,s.map((function(e){return r.a.createElement(oe,{key:"$override-{override.label}",button:{title:e.title,rel:e.rel},className:"button",action:e.action})}))):null;return r.a.createElement("tr",null,u,m,d,p)},pe=function(e){var t=e.links,n=e.unmet,a=e.update;return r.a.createElement("div",{className:"mapping__updates"},r.a.createElement("ul",{className:"nav"},t.map((function(e){return r.a.createElement("li",{key:e.title},r.a.createElement(oe,{button:{title:e.title,rel:e.rel},className:"button",action:function(){return a(e.href,e.params)}}))}))),n.map((function(e){return r.a.createElement("div",{key:e.href,className:"messages messages--warning"},r.a.createElement("p",null,e.title))})))},fe=function(e){var t=e.mapping,n=e.track;Object(a.useEffect)((function(){n("User viewed mapping")}),[]);var i=function(e,t){var a={"Skip source field":{type:"User skipped field",value:"migrationDestinationFieldName"}};a[e]&&n(a[e].type,u()({},a[e].value,t))};if(!t)return r.a.createElement("div",{className:"migration__mapping migration__mapping--no-mapping"},r.a.createElement("div",{className:"messages messages--warning"},"No Mapping information available."));var c=Object(g.a)({promiseFn:S.m,href:t.href}),l=c.data,o=c.isPending,s=c.reload,m=function(e){Object(y.c)({href:e,payload:{}}).then((function(e){s()}))};if(o)return r.a.createElement("div",null,r.a.createElement("div",{className:"spinner-border text-primary",role:"status"},r.a.createElement("span",{className:"visually-hidden"},"Loading…")));if(l instanceof Error)return r.a.createElement("div",{className:"migration__mapping migration__mapping--has-error"},r.a.createElement("div",{className:"messages messages--error"},r.a.createElement("p",null,"Error: ",l.message),r.a.createElement("p",null,t.href)));var d=l.data,f=d.attributes,b=d.links,v=Object(S.p)(b),O=Object(S.o)(b),h=Object(S.i)(b),j=Object.entries(f).filter((function(e){var t=p()(e,2)[1];return"object"===le()(t)})).reduce((function(e,t){var n=p()(t,2),a=n[0],r=n[1],c=Object.entries(r).map((function(e){var t=p()(e,2),n=t[0],r=t[1],c="".concat(a,"-").concat(n);return h?{key:c,value:ue({},r,{overrides:Object(Y.d)(r,h,m,i)})}:{key:c,value:r}}));return[].concat(E()(e),E()(c))}),[]);return r.a.createElement("div",{className:"migration__mapping"},r.a.createElement(pe,{links:v,unmet:O,update:function(e,t){t.data&&Object(y.b)({href:e,payload:{data:t.data}}).then((function(e){s()}))}}),r.a.createElement("div",null,r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Source Field"),r.a.createElement("th",null,"Destination Field"),r.a.createElement("th",null,"Field Type"),r.a.createElement("th",null,"Process Plugins"),r.a.createElement("th",null,!!h.length&&"Operations"))),r.a.createElement("tbody",null,j.map((function(e){var t=e.key,n=e.value;return r.a.createElement(de,{key:t,mapping:n})}))))))},Ee=n(29),ge=n(36),be=n(14),ve=n(21),Oe=n(60),ye=n(46),he=function(e){e.title;var t=e.pending;return r.a.createElement("div",{className:"container-fluid"},r.a.createElement(m.a,null,r.a.createElement(ge.a,null,r.a.createElement(be.a,null,r.a.createElement(ve.a,{href:"../../"},"Home")),r.a.createElement(be.a,null,r.a.createElement("span",null,"Migrations"))),r.a.createElement(Ee.a,{title:"Migrations"}),t?r.a.createElement("div",{className:"spinner-border text-primary",role:"status",style:{width:"200px",height:"200px",borderWidth:"10px"}},r.a.createElement("span",{className:"sr-only"},"Loading…")):r.a.createElement("p",null,"No valid migrations found.")))},je=n(64),we=function(e){var t=e.value,n=e.className,a=void 0===n?"":n,i=Object(je.b)({value:t});return r.a.createElement(je.a.span,{className:"tabular ".concat(a)},i.value.interpolate(Math.round))},_e=function(e){var t=e.active,n=e.amount,a=void 0===n?0:n,i=t?"swooshy--is-swooshing":"",c=Object(je.b)({amount:a});return r.a.createElement("div",{className:"swooshy ".concat(i)},r.a.createElement("div",{className:"swooshy__inner"},r.a.createElement("div",{className:"swooshy__fill",style:{transform:"translateY(-".concat(a,"%)")}}),r.a.createElement("div",{className:"swooshy__amount"},r.a.createElement(je.a.span,null,c.amount.interpolate((function(e){return parseFloat(e).toFixed(2)}))),"%")))},ke=function(e){switch(e.icon){case"alert-triangle":return r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),r.a.createElement("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),r.a.createElement("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"}));case"cancel":return r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{strokeWidth:"1.5",d:"M7 17L17 7"}),r.a.createElement("path",{strokeWidth:"1.5",d:"M7 7L17 17"}),r.a.createElement("circle",{strokeWidth:"1.5",cx:"12",cy:"12",r:"7.25"}));case"check-circle":return r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),r.a.createElement("polyline",{points:"22 4 12 14.01 9 11.01"}));case"x-circle":return r.a.createElement(r.a.Fragment,null,r.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),r.a.createElement("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),r.a.createElement("line",{x1:"9",y1:"9",x2:"15",y2:"15"}));case"minus-circle":return r.a.createElement(r.a.Fragment,null,r.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),r.a.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}));case"circle":return r.a.createElement("circle",{strokeWidth:"1.5",cx:"12",cy:"12",r:"7.25"});case"clock":return r.a.createElement(r.a.Fragment,null,r.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),r.a.createElement("polyline",{points:"12 6 12 12 16 14"}));case"chevron-down":return r.a.createElement("polyline",{points:"6 9 12 15 18 9"});case"delete":return r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M21 4H8l-7 8 7 8h13a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z"}),r.a.createElement("line",{x1:"18",y1:"9",x2:"12",y2:"15"}),r.a.createElement("line",{x1:"12",y1:"9",x2:"18",y2:"15"}));case"eye":return r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),r.a.createElement("circle",{cx:"12",cy:"12",r:"3"}));case"eye-off":return r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),r.a.createElement("line",{x1:"1",y1:"1",x2:"23",y2:"23"}));case"loader":return r.a.createElement(r.a.Fragment,null,r.a.createElement("line",{x1:"12",y1:"2",x2:"12",y2:"6"}),r.a.createElement("line",{x1:"12",y1:"18",x2:"12",y2:"22"}),r.a.createElement("line",{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"}),r.a.createElement("line",{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"}),r.a.createElement("line",{x1:"2",y1:"12",x2:"6",y2:"12"}),r.a.createElement("line",{x1:"18",y1:"12",x2:"22",y2:"12"}),r.a.createElement("line",{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"}),r.a.createElement("line",{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"}));case"more-vertical":return r.a.createElement(r.a.Fragment,null,r.a.createElement("circle",{cx:"12",cy:"12",r:"1"}),r.a.createElement("circle",{cx:"12",cy:"5",r:"1"}),r.a.createElement("circle",{cx:"12",cy:"19",r:"1"}));case"pause":return r.a.createElement(r.a.Fragment,null,r.a.createElement("rect",{x:"6",y:"4",width:"4",height:"16"}),r.a.createElement("rect",{x:"14",y:"4",width:"4",height:"16"}));case"play":return r.a.createElement("polygon",{points:"5 3 19 12 5 21 5 3"});case"square":return r.a.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"});case"zap":return r.a.createElement("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"})}},Ne=function(e){var t=e.icon,n=e.size,a=void 0===n?24:n;return r.a.createElement("svg",{viewBox:"0 0 24 24",width:"".concat(a,"px"),height:"".concat(a,"px"),fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",focusable:"false"},r.a.createElement(ke,{icon:t}))},Pe=function(e){var t=e.isPending,n=e.isRunning,a=e.isStopped;return r.a.createElement("div",{className:"migration_info__queue_status"},!n&&r.a.createElement("span",null,t?"Pausing queue, waiting on response":"Queue paused"),a&&r.a.createElement("span",null,t?"Stopping queue, waiting on response":"Queue stopped"))},xe=function(e){var t=e.isActive,n=e.isRunning,a=e.isStopped,i=e.toggle,c=e.stop;return r.a.createElement("div",{className:"migration_info__queue_controls"},r.a.createElement("button",{className:"button button--small",title:"Stop and clear the queue",onClick:c,disabled:a||!t},r.a.createElement(Ne,{icon:"square"})),r.a.createElement("button",{className:"button button--small",title:n?"Pause queue":"Continue queue",disabled:!t,onClick:i},r.a.createElement(Ne,{icon:n?"pause":"play"})))},qe=function(){return r.a.createElement("div",{className:"migration_info__queue_status queue_view__items--no-items"},r.a.createElement("span",null,"No queued migrations"))},Ce=function(){var e=Object(a.useContext)(M),t=e.queue,n=e.isActivePending,i=e.isQueueRunning,c=e.setQueueRunning,l=e.setQueueClear,o=e.isQueueStopped;return r.a.createElement("div",{className:"migration_info__queue"},r.a.createElement(xe,{isActive:!!t.length,isRunning:i,isStopped:o,toggle:function(){c()},stop:function(){l()}}),t.length?r.a.createElement(Pe,{isPending:n,isRunning:i,isStopped:o}):r.a.createElement(qe,null))};function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var De=function(e,t){return e.reduce((function(e,n){return e+n[t]}),0)},Re=function(e){var t=e.link;return r.a.createElement("a",{href:t.href,title:t.title,className:"admin-item__link"},t.title)},Fe=function(e){var t,n=e.migrations,i=Object(a.useContext)(M),c=i.active,l=i.links,o=Object(S.y)(n),s=De(n,"importedCount"),m=De(n,"totalCount"),d=1===n.length,f=d?{label:(t=n[0]).label,infoLinks:t.links}:{label:null,infoLinks:l},E=f.label,g=f.infoLinks,b=Object.entries(g).filter((function(e){var t=p()(e,2);t[0];return"text/html"===t[1].type})).map((function(e){var t,n,a=p()(e,2),r=a[0],i=a[1],c=(n={"https://github.com/acquia/acquia_migrate#link-rel-migration-messages":{title:"Total errors: ".concat((t=i).title),icon:{icon:"alert-triangle",className:"text-danger"}}}).hasOwnProperty(t.rel)?n[t.rel]:{title:t.title,icon:null},l=c.title,o=c.icon;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:r},i,{title:d?l:i.title,icon:o})})),v=c.hasOwnProperty("id"),O="Data ".concat(v?"importing":"imported");return r.a.createElement("div",{className:"region region-migration-info"},r.a.createElement("div",{className:"layout-row"},r.a.createElement("div",{className:"layout-column"},r.a.createElement(_e,{active:v,amount:Object(S.A)(o)})),r.a.createElement("div",{className:"migration_info__data layout-column"},r.a.createElement("h2",null,O,E?" (".concat(E,")"):""),r.a.createElement("div",{className:"migration_info__progress"},r.a.createElement("div",{className:"migration_info__totals tabular"},"(",s,"/",m,")")),r.a.createElement("ul",{className:"migration_info__list"},b.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(Re,{link:e}))}))),r.a.createElement("div",{className:"migration_info__toggle"},!d&&r.a.createElement(Ce,null)))))};function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Le=function(e){var t=e.id,n=Object(l.useTracking)(),i=Object(a.useContext)(M).migrations,o=i.find((function(e){return e.id===decodeURIComponent(t)}));if(!i.length)return r.a.createElement(he,{title:"Migration: …"});var s=o.label,u=o.processedCount,d=o.totalCount,p=o.dependencies,f=o.consistsOf,E=o.links,g=Object.values(E).find((function(e){return"https://github.com/acquia/acquia_migrate#link-rel-migration-mapping"===e.rel})),b=Object(S.k)(E),v=b.preview,O=b.previewable,y=p.map((function(e){return Te({},e,{label:i.find((function(t){return t.id===e.id})).label})})),h=function(e,a){n.trackEvent(Te({type:e},a,{},{migrationID:t,migrationUnderlyingList:f.map((function(e){return e.id}))}))};return r.a.createElement("div",{className:"migrate-ui__migration_detail region-content"},r.a.createElement(m.a,null,r.a.createElement(ge.a,null,r.a.createElement(be.a,null,r.a.createElement(ve.a,{href:"../../../../"},"Home")),r.a.createElement(be.a,null,r.a.createElement(c.a,{to:"../../"},"Migrations")),r.a.createElement(be.a,null,r.a.createElement("span",null,s))),r.a.createElement(Ee.a,{title:"Migration: ".concat(s)}),r.a.createElement(Fe,{migrations:[o]}),r.a.createElement(Oe.a,null,O&&r.a.createElement(ye.a,{to:"preview"},"Preview"),r.a.createElement(ye.a,{to:"./"},"Mapping"),r.a.createElement(ye.a,{to:"details"},"Details"))),r.a.createElement(c.c,{primary:!1},O&&r.a.createElement(ie,{path:"preview",preview:v,completed:u===d,track:h}),r.a.createElement(fe,{path:"/",mapping:g,track:h}),r.a.createElement(H,{path:"details",dependencies:y,consistsOf:f,track:h})))},Me=n(233),Qe=n(232),Ae=function(e){var t=e.header,n=void 0===t?null:t,a=e.padding,i=void 0===a||a,c=e.children;return r.a.createElement("div",{className:"card"},n&&r.a.createElement("div",{className:"card-header"},n),i?r.a.createElement("div",{className:"card-body"},c):c)},Ue=function(e){var t=e.label,n=e.value,a=e.children,i=e.type,c=void 0===i?"inline":i,l=e.modifier,o=void 0===l?"small":l;return r.a.createElement("div",{className:"".concat("inline"===c&&"ajax-progress ajax-progress-bar"," ").concat("small"===o&&"progress--small")},r.a.createElement("div",{className:"progress","aria-live":"polite"},r.a.createElement("div",{className:"progress__label",title:t},t),r.a.createElement("div",{className:"progress__track"},r.a.createElement("div",{className:"progress__bar",style:{width:"".concat(n,"%")}})),r.a.createElement("div",{className:"progress__percentage"},r.a.createElement(we,{value:n}),"%"),r.a.createElement("div",{className:"progress__description"},a)))};function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var He=function(e){var t=e.item,n=e.active,a=t.title,i=t.progressRatio,c=t.errors?i||100:100*i;return r.a.createElement(Ue,{label:a,value:c,active:n,type:"full",modifier:"large"},r.a.createElement("span",null,"Please wait for this import to finish before leaving this window."))},We=function(e){var t=e.links,n=Object.entries(t).filter((function(e){return"https://github.com/acquia/acquia_migrate#link-rel-start-batch-process"===e[1].rel})).map((function(e){var t=p()(e,2),n=t[0];return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t[1],{id:n})})),i=x(),c=i.active,l=i.queue,o=i.addToQueue,s=i.isQueueCompleted,m=Object(a.useState)(n.length>0),d=p()(m,2),f=d[0],E=d[1],g=Object(a.useState)(!0),b=p()(g,2),v=b[0],O=b[1],y=c.qid||"";return Object(a.useEffect)((function(){n.forEach((function(e){var t=e.id,n=e.title,a=e.href;o({id:t,title:n,start:{href:a},operation:"import"})}))}),[]),Object(a.useEffect)((function(){l.length&&s&&(O(!1),setTimeout((function(){E(!1)}),1e3))}),[y]),f?r.a.createElement(Ae,null,r.a.createElement("div",{className:"initial_import"},l.map((function(e){return r.a.createElement(He,{key:e.qid,item:e,active:v})})))):r.a.createElement("div",null)},Ke=n(103),Be=n.n(Ke),Ge=function(e){var t=e.buttons,n=O(!1),a=p()(n,2),i=a[0],c=a[1],l=O(!1),o=p()(l,2),s=o[0],u=o[1];return r.a.createElement("div",{className:"dropdown"},s?r.a.createElement("div",{className:"spinner-border spinner-border-sm text-muted mr-1",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")):r.a.createElement("a",{className:"dropdown-ellipses dropdown-toggle text-muted",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":i,onClick:c},r.a.createElement(Ne,{icon:"more-vertical"})),r.a.createElement("div",{className:"dropdown-menu dropdown-menu-right ".concat(i?"show":"")},t.map((function(e){return r.a.createElement(oe,{key:e.key,button:e,className:"dropdown-item",action:function(){c(),u(),e.action()}})}))))},Ve=function(e){var t=e.dependencies,n=O(!1),a=p()(n,2),i=a[0],c=a[1];return r.a.createElement("div",{className:"btn-group"},r.a.createElement("a",{className:"dropdown-ellipses dropdown-toggle",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":i,onClick:c},r.a.createElement("span",null,r.a.createElement(Ne,{icon:"chevron-down"}))),r.a.createElement("div",{className:"dropdown-menu dropdown-menu-right ".concat(i?"show":"")},t.map((function(e){return r.a.createElement("div",{key:e.id,className:"dropdown-item"},e.incomplete?r.a.createElement("a",{href:"#anchor-".concat(e.id),title:"jump to ".concat(e.label," migration"),className:"migration__".concat(e.incomplete?"danger":"success"," migration__import-status")},e.label):e.label)}))))},Je=function(e){var t=e.dependencies,n=e.hasImported,a=e.showDependencies,i=e.link,c="Not available",l="muted";if(!i&&!a)return r.a.createElement("span",{className:"migration__".concat(l," migration__import-status")},c);var o=t.length>0;if(a&&o){var s=o&&t.some((function(e){return e.incomplete}));c=s?"Unmet dependencies":"No unmet dependencies",l=s?"danger":"success"}else i?(c="Ready for ".concat(i.title),l="success"):c=n?"Already imported":"Not ready";return r.a.createElement("div",{className:"migration__status"},r.a.createElement("span",{className:"migration__".concat(l," migration__import-status")},c),a&&o&&r.a.createElement(Ve,{dependencies:t}))},Ye=n(234),$e=n(231),Xe=n(140),Ze=n(141),et=n(230),tt=n(37),nt=function(e,t){var n=Object(a.useRef)();Object(a.useEffect)((function(){n.current=e}),[e]),Object(a.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])},at=function(e){var t=e.start;return r.a.createElement("span",null,"started ",Object(Ye.a)(t,Date.now()),r.a.createElement("br",null),"still in progress")},rt=function(e){var t=e.startTime,n=e.endTime,i=e.start,c=e.end,l=e.duration,o=Object(a.useState)(!1),s=p()(o,2),u=s[0],m=s[1],d=Object(a.useState)(Date.now()),f=p()(d,2),E=f[0],g=f[1],b=Object($e.a)(i,{addSuffix:!0,includeSeconds:!0}),v=Object(Xe.a)(i,tt.a),O=Object(Xe.a)(c,tt.a),y=Object(Ye.a)(i,E),h=Object(Ze.a)(E,i)>60?3e4:2e3,j=Object(et.a)(Object(tt.c)(l));return nt((function(){return g(Date.now())}),h),r.a.createElement("div",{className:"migration__last_imported"},r.a.createElement("a",{onClick:function(){return m(!u)},title:y},b,r.a.createElement("br",null),"took ",j||"less than a second"),r.a.createElement("div",{className:"migration__last_imported_details ".concat(u?"migration__last_imported_details--is-visible":"")},"Started: ",r.a.createElement("span",{title:t},v),r.a.createElement("br",null),"Finished: ",r.a.createElement("span",{title:n},O)))},it=function(e){var t=e.imported;if(!t)return r.a.createElement("span",null,"Not imported");var n=t.startTime,a=t.endTime,i=t.duration,c=Object(tt.b)(n);if(!a)return r.a.createElement(at,{start:c});var l=Object(tt.b)(a);return r.a.createElement(rt,{startTime:n,endTime:a,start:c,end:l,duration:i})},ct=function(e){var t=e.status,n=e.importedCount,a=e.totalCount,i=t.code,c=t.message,l="";switch(i){case"IMPORTING_OK":case"IMPORTED_OK":case"COMPLETED_OK":l="";break;case"IMPORTED_WARN":case"IMPORTING_ERR":case"IMPORTED_ERR":l="".concat("migration__import-status migration","__warning");break;case"IMPORTED_NOTICE":case"COMPLETED_OUTDATED":case"SKIPPED_CHECK":l=""}return r.a.createElement("span",{title:c,className:l},r.a.createElement(we,{value:n}),"/",r.a.createElement("span",{className:"tabular"},a))},lt=function(e){var t=e.imported;if(!t)return null;var n=t.startTime,a=t.endTime,i=t.duration;if(a||i)return null;var c=Object(tt.b)(n);return r.a.createElement("span",null,"started ",Object(Ye.a)(c,Date.now()))},ot=function(e){var t=e.label,n=e.item,i=e.imported,c=n.id,l=n.qid,o=n.operation,s=n.pending,u=n.errors,m=Object(a.useContext)(M),d=m.migrations,p=m.removeFromQueue,f=Object(S.z)(Object(S.f)(c,d),o),E=u?f||100:100*f;return r.a.createElement("div",{className:"migration_progress"},r.a.createElement(Ue,{label:t,value:E},r.a.createElement(lt,{imported:i})),r.a.createElement("div",{className:"migration_progress__cancel"},s?r.a.createElement("span",{title:"Pending response"},r.a.createElement(Ne,{icon:"circle"})):r.a.createElement("a",{rel:"https://github.com/acquia/acquia_migrate#link-rel-dequeue-item",onClick:function(){p(l)},title:"Cancel",role:"button","aria-label":"Cancel"},r.a.createElement(Ne,{icon:"cancel"}),r.a.createElement("span",{className:"visually-hidden"},"Cancel"))))},st=n(50),ut=function(e){var t=e.data,n=e.columns,i=e.operation,c=e.selections,l=e.selectSingle,o=t.id,s=t.page,m=t.status,d=Object(a.useContext)(M),p=d.migrations,f=d.updateMigration,E=d.removeFromList,g=d.active,b=d.queue,v=Object(S.f)(o,p),O=Object(S.l)(o,b),y=v.label,h=v.status,j=v.importedCount,w=v.totalCount,_=v.lastImported,k=v.links,N={"https://github.com/acquia/acquia_migrate#link-rel-update-resource":function(e,t,n){f(t,n)}},P=Object(S.k)(k).previewable,x=Object(S.b)(v,p,"import"),q=k.hasOwnProperty("rollback"),C=g&&g.id===o,D=!!O,R="removed"===m,F=k.hasOwnProperty(i),I={checked:!!F&&(c.hasOwnProperty(o)&&c[o]),disabled:!F||R};Object(a.useEffect)((function(){R&&setTimeout((function(){E(o,s,O)}),1500)}),[R]);var T=Object.keys(k).filter((function(e){return N.hasOwnProperty(k[e].rel)})).map((function(e){return{key:"".concat(e,"-").concat(o),rel:k[e].rel,title:k[e].title,action:function(){return N[k[e].rel](e,k[e].href,k[e].params)}}})),L=k["migration-messages"],Q=Drupal?Object(S.e)(Drupal,"displace.offsets.top"):0;return Object(a.useEffect)((function(){Object(Ke.configureAnchors)({offset:-Q})}),[Q]),r.a.createElement(Be.a,{id:"anchor-".concat(o)},r.a.createElement("tr",{id:o,className:"migration table_row ".concat(R&&"migration__removed migration__removed--".concat(Object(S.g)(v)))},n.includes("actions")&&r.a.createElement("td",null,r.a.createElement("div",{className:"migration__actions"},D?r.a.createElement(Ne,{size:"16",icon:C?"zap":"clock"}):r.a.createElement(st.a,{id:o,options:I,toggle:function(){l(u()({},o,!I.checked))}}))),n.includes("name")&&r.a.createElement("td",null,O?r.a.createElement(ot,{item:O,label:y,imported:_}):r.a.createElement(A,{id:o,previewable:P},y)),n.includes("status")&&r.a.createElement("td",{className:"migration_row__status"},r.a.createElement(Je,{dependencies:x,hasImported:q,showDependencies:"import"===i,link:F?k[i]:null})),n.includes("imported")&&r.a.createElement("td",{className:"migration_row__imported_count col--align"},r.a.createElement("div",null,r.a.createElement(ct,{status:h,importedCount:j,totalCount:w}))),n.includes("messages")&&r.a.createElement("td",{className:"migration_row__message_count col--align"},r.a.createElement("div",null,L?r.a.createElement(ve.a,{href:L.href,title:"View ".concat(y," messages")},r.a.createElement(we,{value:L.title})):r.a.createElement("span",{className:"tabular"},"0"))),n.includes("lastImported")&&r.a.createElement("td",{className:"migration_row__last_imported"},r.a.createElement("div",null,r.a.createElement(it,{imported:_}))),n.includes("ops")&&r.a.createElement("td",{className:"migration_row__operations col--align"},r.a.createElement(Ge,{buttons:T}))))};function mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var dt=function(e){var t=e.migrations,n=e.options,i=e.operation,c=e.setOperation,o=e.selections,s=e.selectAll,m=Object(l.useTracking)(),d=Object(a.useContext)(M).addToQueue,f=Object.entries(o).filter((function(e){var t=p()(e,2);t[0];return t[1]}));return r.a.createElement("div",{className:"view-filters"},r.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),"import"===i){var n=f.reduce((function(e,n){var a=p()(n,1)[0],r=Object(S.f)(a,t),i=r.processedCount,c=r.totalCount,l=r.consistsOf;return e.migrationInitiatedQuantity+=1,e.migrationInitiatedRows+=c-i,e.migrationInitiatedList.push(a),e.migrationInitiatedUnderlyingList=[].concat(E()(e.migrationInitiatedUnderlyingList),E()(l.map((function(e){return e.id})))),e}),{migrationInitiatedQuantity:0,migrationInitiatedRows:0,migrationInitiatedList:[],migrationInitiatedUnderlyingList:[]});m.trackEvent(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({type:"User initiated migration"},n))}f.forEach((function(e){var n=p()(e,1)[0],a=Object(S.f)(n,t),r=a.id,c=a.label,l=a.links[i].href;d({id:r,title:c,start:{href:l},operation:i})})),s(!1)},className:"migrate__exposed-form"},r.a.createElement("div",{className:"migrate__exposed-form__item"},r.a.createElement("label",{htmlFor:"migration__operations_selector",className:"form-item__label"},"Actions"),r.a.createElement("select",{name:"migration__operations_selector",id:"migration__operations_selector",className:"form-element form-element--type-select",onChange:function(e){c(e.target.value)},value:i},n.map((function(e){var t=p()(e,2),n=t[0],a=t[1];return r.a.createElement("option",{key:n,value:n},a)})))),r.a.createElement("div",{className:"migrate__exposed-form__item migrate__exposed-form__item--actions"},r.a.createElement("button",{type:"submit",disabled:""===i||!f.length,className:"button button--primary form-submit"},f.length?"Apply to (".concat(f.length,") selected"):"No migrations selected"))))};function pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var ft=function(e,t){switch(t.type){case"selectSingle":return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{},t.selected);case"selectAll":return Object.fromEntries(Object(S.n)(t.migrations,t.operation).map((function(e){return[e.id,t.value]})));default:return e}},Et=function(e){var t=Object(S.h)(e),n=Array.from(t.keys()).sort().join("-"),r=Object(a.useState)([]),i=p()(r,2),c=i[0],l=i[1],o=Object(a.useState)(""),s=p()(o,2),u=s[0],m=s[1],d=Object(a.useState)(!1),f=p()(d,2),E=f[0],g=f[1],b=Object(a.useReducer)(ft,{}),v=p()(b,2),O=v[0],y=v[1];Object(a.useEffect)((function(){g(!1),y({type:"selectAll",value:!1,operation:u,migrations:e})}),[u]),Object(a.useEffect)((function(){""!==n&&(l(Array.from(t)),m(t.has("import")?"import":t.keys().next().value))}),[n]);return{operation:u,setOperation:m,options:c,selections:O,checked:E,selectSingle:function(e){y({type:"selectSingle",selected:e})},selectAll:function(t){g(t),y({type:"selectAll",value:t,operation:u,migrations:e})}}},gt=function(e){var t=e.name,n=e.list,i=(e.hasActions,n.columns),c=n.currentRows,l=Object(a.useContext)(M),o=l.migrations,s=l.resetList,u=c.filter((function(e){return"removed"!==e.status})).map((function(e){return Object(S.f)(e.id,o)})),m=Object(S.u)(n),d=Et(u),p=d.options,f=d.operation,E=d.setOperation,g=d.selections,b=d.checked,v=d.selectSingle,O=d.selectAll;return Object(a.useEffect)((function(){m&&setTimeout((function(){s(t)}),1500)}),[m]),r.a.createElement("div",null,i.includes("actions")&&r.a.createElement(dt,{migrations:u,options:p,operation:f,setOperation:E,selections:g,selectAll:O}),r.a.createElement("table",{className:"sticky-enabled"},r.a.createElement("thead",null,r.a.createElement("tr",null,i.includes("actions")&&r.a.createElement("th",null,r.a.createElement(st.a,{id:"allMigrations",options:{checked:b,disabled:!1},toggle:function(){O(!b)}})),i.includes("name")&&r.a.createElement("th",null,"Name"),i.includes("status")&&r.a.createElement("th",null,"Status"),i.includes("imported")&&r.a.createElement("th",{className:"col--align"},"Imported/Total"),i.includes("messages")&&r.a.createElement("th",{className:"col--align"},"Messages"),i.includes("lastImported")&&r.a.createElement("th",null,"Last Imported"),i.includes("ops")&&r.a.createElement("th",{className:"col--align"},"Operations"))),r.a.createElement("tbody",null,c.map((function(e){return r.a.createElement(ut,{key:e.id,data:e,columns:i,operation:f,selections:g,selectSingle:v})})))))},bt=n(42),vt=function(e){var t=e.error,n=t.status,a=t.reason;return r.a.createElement(r.a.Fragment,null,"Status code: ",r.a.createElement("em",null,n),r.a.createElement("br",null),"Reason phrase: ",r.a.createElement("em",null,a))},Ot=function(e){var t=e.error,n=O(!1),a=p()(n,2),i=a[0],c=a[1],l=(t.errors[0]||{}).detail||"An unrecognized error occurred.";return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,l," ",r.a.createElement("em",null,i?r.a.createElement("a",{onClick:c},"Hide developer details."):r.a.createElement("a",{onClick:c},"Show developer details."))),i&&r.a.createElement("p",null,r.a.createElement(vt,{error:t})))},yt=function(e){var t=e.error;return t instanceof bt.a?r.a.createElement(Ot,{error:t}):r.a.createElement("span",null,t.description)},ht=function(e){var t=e.children;return r.a.createElement("div",{className:"alert alert-danger show"},t)},jt=function(e){var t=e.children,n=e.dismiss,a=void 0===n?function(){}:n,i=O(!1),c=p()(i,2),l=c[0],o=c[1];return!l&&r.a.createElement(ht,null,r.a.createElement("button",{onClick:function(){o(),a()},type:"button",className:"close","data-dismiss":"alert","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"×")),t)};function wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _t(e){function t(t){var n=Object(a.useContext)(v.c).error;return r.a.createElement(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wt(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({error:n},t))}var n=e.displayName||e.name||"Component";return t.displayName="withError(".concat(n,")"),t}var kt=_t((function(e){var t=e.error;return r.a.createElement(ht,null,r.a.createElement(yt,{error:t}))})),Nt=function(){var e=Object(a.useContext)(M),t=e.lists,n=e.links,i=e.migrations,l=e.isLoading;return i.length?r.a.createElement("div",{className:"region-content"},r.a.createElement(m.a,null,r.a.createElement(ge.a,null,r.a.createElement(be.a,null,r.a.createElement(ve.a,{href:"../../"},"Home")),r.a.createElement(be.a,null,r.a.createElement("span",null,"Migrations"))),r.a.createElement(Ee.a,{title:"Migrations"}),r.a.createElement(v.b,null,r.a.createElement(v.d,null,r.a.createElement(We,{links:n})),r.a.createElement(v.a,{prototype:b.a},r.a.createElement(kt,null))),r.a.createElement(Fe,{migrations:E()(i.filter((function(e){return!e.skipped})))}),r.a.createElement(Oe.a,null,t.map((function(e){return r.a.createElement(ye.a,{key:"tab-".concat(e.name),to:e.to},e.title,r.a.createElement("span",{className:"badge ".concat(Object(S.u)(e)?"badge--has-new":"")},e.activeCount))})))),r.a.createElement(c.b,null,(function(e){var n=e.location;return r.a.createElement(Me.a,null,r.a.createElement(Qe.a,{key:n.key,timeout:500,classNames:"migrations_view"},r.a.createElement(c.c,{location:n,primary:!1,className:"migrations_view"},t.map((function(e){return r.a.createElement(gt,{key:"migration-list-".concat(e.name),list:e,name:e.name,path:e.path,hasActions:e.hasActions})})))))}))):r.a.createElement(he,{title:"Migrations",pending:l})},Pt=n(17),xt=new Pt.a,qt=o()({},{dispatch:function(e){return xt.logEvent(e)}})((function(e){var t=e.basepath,n=e.source;return r.a.createElement("div",{className:"migrate-ui"},r.a.createElement(Q,{basepath:t,source:n},r.a.createElement(c.c,{basepath:t,primary:!1},r.a.createElement(Nt,{path:"/*"}),r.a.createElement(Le,{path:"migration/:id/*"}))))}));function Ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var St=n(43),Dt=function(e){function t(t){var n=Object(a.useContext)(v.c).clearError;return r.a.createElement(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({dismiss:n},t))}var n=e.displayName||e.name||"Component";return t.displayName="withDismiss(".concat(n,")"),t}(_t((function(e){var t=e.error,n=e.dismiss;return r.a.createElement(jt,{dismiss:n},r.a.createElement(yt,{error:t}))})));document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector("#decoupled-page-root"),t=e.getAttribute("data-module-path");n.p="/".concat(t,"/ui/dist/");var a=e.getAttribute("data-basepath"),c=e.getAttribute("data-source");(new Pt.a).init(e.getAttribute("data-tracking-api-key"),Object(St.a)(e),void 0),e&&Object(i.render)(r.a.createElement(v.b,null,r.a.createElement(v.d,null,r.a.createElement(qt,{basepath:a,source:c})),r.a.createElement(v.a,null,r.a.createElement(Dt,null))),e)}))}});