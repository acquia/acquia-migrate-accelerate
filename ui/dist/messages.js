!function(e){function t(t){for(var n,i,o=t[0],c=t[1],s=t[2],m=0,d=[];m<o.length;m++)i=o[m],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&d.push(r[i][0]),r[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);for(u&&u(t);d.length;)d.shift()();return l.push.apply(l,s||[]),a()}function a(){for(var e,t=0;t<l.length;t++){for(var a=l[t],n=!0,o=1;o<a.length;o++){var c=a[o];0!==r[c]&&(n=!1)}n&&(l.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},r={2:0},l=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.e=function(e){var t=[],a=r[e];if(0!==a)if(a)t.push(a[2]);else{var n=new Promise((function(t,n){a=r[e]=[t,n]}));t.push(a[2]=n);var l,o=document.createElement("script");o.charset="utf-8",o.timeout=120,i.nc&&o.setAttribute("nonce",i.nc),o.src=function(e){return i.p+""+({5:"tracker"}[e]||e)+".bundle.js"}(e);var c=new Error;l=function(t){o.onerror=o.onload=null,clearTimeout(s);var a=r[e];if(0!==a){if(a){var n=t&&("load"===t.type?"missing":t.type),l=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+n+": "+l+")",c.name="ChunkLoadError",c.type=n,c.request=l,a[1](c)}r[e]=void 0}};var s=setTimeout((function(){l({type:"timeout",target:o})}),12e4);o.onerror=o.onload=l,document.head.appendChild(o)}return Promise.all(t)},i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw console.error(e),e};var o=window.webpackJsonp=window.webpackJsonp||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var s=0;s<o.length;s++)t(o[s]);var u=c;l.push([226,0]),a()}({226:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(22),i=a(17),o=(a.p,a(10)),c=a.n(o),s=a(26),u=a(233),m=a(232),d=a(140),f=a(229),p=a(37),b=function(e){var t=e.value,a=e.className;return r.a.createElement("td",{className:a},t)},v=function(e){var t=e.message,a=e.className,n=t.datetime,l=t.migration,i=t.plugin,o=t.sourceId,c=t.type,s=t.severity,u=t.text,m=t.solution,v=Object(d.a)(Object(f.a)(n),p.a);return r.a.createElement("tr",{className:a},r.a.createElement(b,{value:v,className:"table__no-wrap"}),r.a.createElement(b,{value:l}),r.a.createElement(b,{value:i}),r.a.createElement(b,{value:o}),r.a.createElement(b,{value:c}),r.a.createElement(b,{value:s}),r.a.createElement(b,{value:u,className:"table__break-word"}),r.a.createElement(b,{value:m,className:"table__break-word"}))},g=a(1),h=a.n(g),E=a(4),O=a.n(E),y=a(9),j=function(e){return{url:e.href,path:e.pathname}},w=r.a.createContext({}),_=function(e){var t=e.children,a=Object(n.useState)(j(window.location)),l=h()(a,2),i=l[0],o=l[1];Object(n.useEffect)((function(){window.addEventListener("popstate",(function(){o(j(window.location))}))}));var c={windowURL:i.url,windowPath:i.path,setWindowURL:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";window.history.pushState(null,t.length||document.title,e||window.location.pathname),o(j(window.location))}};return r.a.createElement(w.Provider,{value:c},t)};function P(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function N(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?P(Object(a),!0).forEach((function(t){O()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):P(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var x=function(e){return Object(y.g)(e).join("-")},C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.map((function(e){var a=t.find((function(t){return t.field===e.field}));return N({},e,{value:a?a.value:""})}))},k=function(e,t){switch(t.type){case"init":return N({},t.filters);case"navigate":return N({},e,{fields:C(e.fields,Object(y.f)(t.params))});case"filterChange":return N({},e,{fields:e.fields.map((function(e){return e.field===t.filter.field?N({},e,{},t.filter):e}))});case"filterClear":return N({},e,{fields:C(e.fields)});default:return e}},S=function(){var e=Object(n.useContext)(w),t=e.windowURL,a=e.windowPath,r=e.setWindowURL,l=Object(n.useReducer)(k,{}),i=h()(l,2),o=i[0],c=i[1],s=x(o.fields||[]),u=x(Object(y.f)(Object(y.e)(t)));Object(n.useEffect)((function(){o.fields&&c({type:"navigate",params:Object(y.e)(t)})}),[t]),Object(n.useEffect)((function(){o.fields&&s!==u&&m()}),[s]);var m=function(){var e=Object(y.g)(o.fields),t=Object(y.a)({filter:e},o.template);r(Object(y.b)(t))};return{filters:o,setFields:function(e){c({type:"init",filters:Object(y.c)(e,Object(y.f)(Object(y.e)(t)))})},updateFilter:function(e){c({type:"filterChange",filter:e})},submitFilters:m,clearFilters:function(){r(a)}}},F=a(2),L=a(45),M=r.a.createContext({}),D=function(e){var t=e.basepathDashboard,a=e.source,l=e.children,i=Object(n.useContext)(w).windowURL,o=Object(L.a)({href:a,uriTemplateParams:Object(y.e)(i),handleError:console.error}),c=o.isLoading,s=o.document,u=Object(n.useState)([]),m=h()(u,2),d=m[0],f=m[1],p=Object(n.useState)(null),b=h()(p,2),v=b[0],g=b[1],E=S(),O=E.filters,j=E.setFields,_=E.updateFilter,P=E.submitFilters,N=E.clearFilters;return Object(n.useEffect)((function(){v&&j(v)}),[v]),Object(n.useEffect)((function(){if(s){var e=s.data,t=s.included,a=s.links,n=void 0===a?{}:a,r=Object.values(n).find((function(e){var t=e.rel;return"https://github.com/acquia/acquia_migrate#link-rel-query"===(void 0===t?null:t)}));r&&g(r),f(e.map((function(e){return function(e,t){var a=e.id,n=e.attributes,r=e.relationships,l=e.links,i=n.datetime,o=n.severity,c=n.message,s=n.messageCategory,u=n.solution,m=r.sourceMigration,d=r.sourceMigrationPlugin,f=function(e,t){return e.data.hasOwnProperty("meta")?e.data.meta.label:t.find((function(t){return t.id===e.data.id})).attributes.label}(m,t),p=d.data.id;return{id:a,sourceId:l&&l.hasOwnProperty("source")?Object(F.x)(Object(F.e)(l.source,"meta.source-identifiers")):"",datetime:i,migration:f,plugin:p,type:s,severity:l&&l.hasOwnProperty("severity")?l.severity.title:o,text:c,solution:u}}(e,t)})))}}),[s]),r.a.createElement(M.Provider,{value:{basepathDashboard:t,messages:d,filters:O,updateFilter:_,submitFilters:P,clearFilters:N,isLoading:c}},l)},T=function(e){var t=e.pending;return r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"7"},t?r.a.createElement("div",{className:"spinner-border text-primary",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading…")):r.a.createElement("em",null,"No Messages"))))},A=function(){var e=Object(o.useTracking)(),t=Object(n.useContext)(M),a=t.messages,l=t.isLoading;return Object(n.useEffect)((function(){setTimeout((function(){e.trackEvent({type:"User viewed messages console"})}),1e3)}),[]),r.a.createElement("div",{className:"messages__list"},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Datetime"),r.a.createElement("th",null,"Migration"),r.a.createElement("th",null,"Migration Plugin"),r.a.createElement("th",null,"Source ID"),r.a.createElement("th",null,"Type"),r.a.createElement("th",null,"Severity"),r.a.createElement("th",null,"Message"),r.a.createElement("th",null,"Solution"))),a.length?r.a.createElement(u.a,{component:"tbody"},a.map((function(e){return r.a.createElement(m.a,{key:e.id,timeout:500,in:!0,appear:!0},r.a.createElement(v,{message:e}))}))):r.a.createElement(T,{pending:l})))},R=a(59),U=a.n(R),q=function(e){var t=e.options,a=e.name,n=e.label,l=e.value,i=e.multiple,o=void 0!==i&&i,c=e.children,s=e.handleChange;return r.a.createElement("div",{className:"form-item form-type--select form-item--select-".concat(o?"multiple":"single")},n&&r.a.createElement("label",{htmlFor:a,className:"form-item__label"},n),r.a.createElement("select",U()({name:a,className:"form-select form-element form-element--type-".concat(o?"select-multiple":"select"),onChange:s,value:l},o?{multiple:o}:void 0,c?{"aria-describedby":"".concat(a,"--description")}:void 0),r.a.createElement("option",{value:""},"--"),t.map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.label)}))),c&&r.a.createElement("div",{id:"".concat(a,"--description"),className:"form-item__description"},c))},I=a(75),J=function(e){var t=e.field,a=e.update,n=t.field,l=t.label,i=t.operator,o=t.value,c=t.options,s=function(e){a({field:n,operator:i,value:e.target.value})};return r.a.createElement(r.a.Fragment,null,c?r.a.createElement(q,{label:l,name:n,value:o,options:c,handleChange:s}):r.a.createElement(I.a,{label:l,name:n,value:o,handleChange:s}))},W=function(){var e=Object(n.useContext)(M),t=e.filters,a=e.updateFilter,l=e.clearFilters,i=t.fields;return i?r.a.createElement("form",{className:"messages__filters exposed-form"},i.map((function(e){return r.a.createElement(J,{key:e.field,field:e,update:a})})),r.a.createElement("div",{className:"form-actions form-item exposed-form__item--actions"},r.a.createElement("input",{onClick:function(e){e.preventDefault(),l(e)},className:"button form-submit",value:"Clear filters"}))):r.a.createElement("div",{className:"ajax-progress ajax-progress--throbber",role:"status"},r.a.createElement("div",{className:"ajax-progress__throbber"}),r.a.createElement("div",{className:"ajax-progress__message"},"Loading…"))},H=a(21),z=a(36),B=a(14),G=a(29),K=function(){var e=Object(n.useContext)(M).basepathDashboard;return r.a.createElement("div",{className:"region-content"},r.a.createElement(s.a,null,r.a.createElement(z.a,null,r.a.createElement(B.a,null,r.a.createElement(H.a,{href:"../../"},"Home")),r.a.createElement(B.a,null,r.a.createElement(H.a,{href:e,title:"Migrations"},"Migrations")),r.a.createElement(B.a,null,r.a.createElement("span",null,"Messages"))),r.a.createElement(G.a,{title:"Messages"})),r.a.createElement("div",null,r.a.createElement(W,null)),r.a.createElement("div",null,r.a.createElement(A,null)))},Q=new i.a,V=c()({},{dispatch:function(e){return Q.logEvent(e)}})((function(e){e.basepath;var t=e.basepathDashboard,a=e.source;return r.a.createElement("div",{className:"migrate-ui__messages"},r.a.createElement(_,null,r.a.createElement(D,{source:a,basepathDashboard:t},r.a.createElement(K,null))))})),X=a(43);document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector("#decoupled-page-root"),t=e.getAttribute("data-module-path");a.p="/".concat(t,"/ui/dist/");var n=e.getAttribute("data-basepath"),o=e.getAttribute("data-basepath-dashboard"),c=e.getAttribute("data-source");(new i.a).init(e.getAttribute("data-tracking-api-key"),Object(X.a)(e),void 0),e&&Object(l.render)(r.a.createElement(V,{basepath:n,basepathDashboard:o,source:c}),e)}))}});