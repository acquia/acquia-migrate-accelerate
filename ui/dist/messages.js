!function(e){function t(t){for(var n,l,o=t[0],s=t[1],c=t[2],m=0,f=[];m<o.length;m++)l=o[m],Object.prototype.hasOwnProperty.call(r,l)&&r[l]&&f.push(r[l][0]),r[l]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);for(u&&u(t);f.length;)f.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,o=1;o<a.length;o++){var s=a[o];0!==r[s]&&(n=!1)}n&&(i.splice(t--,1),e=l(l.s=a[0]))}return e}var n={},r={2:0},i=[];function l(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.e=function(e){var t=[],a=r[e];if(0!==a)if(a)t.push(a[2]);else{var n=new Promise((function(t,n){a=r[e]=[t,n]}));t.push(a[2]=n);var i,o=document.createElement("script");o.charset="utf-8",o.timeout=120,l.nc&&o.setAttribute("nonce",l.nc),o.src=function(e){return l.p+""+({5:"tracker"}[e]||e)+".bundle.js"}(e);var s=new Error;i=function(t){o.onerror=o.onload=null,clearTimeout(c);var a=r[e];if(0!==a){if(a){var n=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;s.message="Loading chunk "+e+" failed.\n("+n+": "+i+")",s.name="ChunkLoadError",s.type=n,s.request=i,a[1](s)}r[e]=void 0}};var c=setTimeout((function(){i({type:"timeout",target:o})}),12e4);o.onerror=o.onload=i,document.head.appendChild(o)}return Promise.all(t)},l.m=e,l.c=n,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(a,n,function(t){return e[t]}.bind(null,n));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="",l.oe=function(e){throw console.error(e),e};var o=window.webpackJsonp=window.webpackJsonp||[],s=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=s;i.push([241,0]),a()}({241:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(30),l=a(24),o=(a.p,a(1)),s=a.n(o),c=a(21),u=a.n(c),m=a(32),f=a(246),d=a(245),p=a(148),b=a(244),g=a(44),v=function(e){var t=e.className,a=e.children;return r.a.createElement("div",{className:"message_grid__col ".concat(t)},a)},h=function(e){var t=e.message,a=(e.className,t.datetime),n=t.migration,i=t.plugin,l=t.sourceId,o=t.type,s=t.severity,c=t.text,u=t.solution,m=Object(p.a)(Object(b.a)(a),g.a);return r.a.createElement("div",{className:"message_grid"},r.a.createElement(v,{className:"message_row__datetime"},m),r.a.createElement(v,{className:"message_row__severity"},s),r.a.createElement(v,{className:"message_row__title"},n,r.a.createElement("br",null),r.a.createElement("code",null,i)),r.a.createElement(v,{className:"message_row__source"},r.a.createElement("label",{className:"form-item__label"},"Source ID:"),r.a.createElement("code",null,l)),r.a.createElement(v,{className:"message_row__type"},r.a.createElement("label",{className:"form-item__label"},"Type:"),r.a.createElement("code",null,o)),r.a.createElement(v,{className:"message_row__text message_row__message"},r.a.createElement("label",{className:"form-item__label"},"Message:"),r.a.createElement("div",{className:"message__text"},c)),r.a.createElement(v,{className:"message_row__text message_row__solution"},r.a.createElement("label",{className:"form-item__label"},"Solution:"),r.a.createElement("div",{className:"message__text"},u||"No solution currently available")))},y=h;v.propTypes={className:s.a.string,children:s.a.oneOfType([s.a.arrayOf(s.a.node),s.a.node])},v.defaultProps={className:"",children:""},h.propTypes={message:s.a.shape({datetime:s.a.string,migration:s.a.string,plugin:s.a.string,sourceId:s.a.string,type:s.a.string,severity:s.a.string,text:s.a.string,solution:s.a.string}),className:s.a.string},h.defaultProps={message:s.a.objectOf(null),className:""};var E=a(20),O=a(2),_=a.n(O),j=a(6),w=a.n(j),N=a(13),R=function(e){return{url:e.href,path:e.pathname}},x=r.a.createContext({}),P=function(e){var t=e.children,a=Object(n.useState)(R(window.location)),i=_()(a,2),l=i[0],o=i[1];Object(n.useEffect)((function(){window.addEventListener("popstate",(function(){o(R(window.location))}))}));var s={windowURL:l.url,windowPath:l.path,setWindowURL:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";window.history.pushState(null,t.length||document.title,e||window.location.pathname),o(R(window.location))}};return r.a.createElement(x.Provider,{value:s},t)};function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function T(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(Object(a),!0).forEach((function(t){w()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}P.propTypes={children:s.a.oneOfType([s.a.arrayOf(s.a.node),s.a.node]).isRequired};var C=function(e){return Object(N.g)(e).join("-")},q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.map((function(e){var a=t.find((function(t){return t.field===e.field}));return T(T({},e),{},{value:a?a.value:""})}))},D=function(e,t){switch(t.type){case"init":return T({},t.filters);case"navigate":return T(T({},e),{},{fields:q(e.fields,Object(N.f)(t.params))});case"filterChange":return T(T({},e),{},{fields:e.fields.map((function(e){return e.field===t.filter.field?T(T({},e),t.filter):e}))});case"filterClear":return T(T({},e),{},{fields:q(e.fields)});default:return e}},S=function(){var e=Object(n.useContext)(x),t=e.windowURL,a=e.windowPath,r=e.setWindowURL,i=Object(n.useReducer)(D,{}),l=_()(i,2),o=l[0],s=l[1],c=C(o.fields||[]),u=C(Object(N.f)(Object(N.e)(t))),m=function(){var e=Object(N.g)(o.fields),t=Object(N.a)({filter:e},o.template);r(Object(N.b)(t))};return Object(n.useEffect)((function(){o.fields&&s({type:"navigate",params:Object(N.e)(t)})}),[t]),Object(n.useEffect)((function(){o.fields&&c!==u&&m()}),[c]),{filters:o,setFields:function(e){s({type:"init",filters:Object(N.c)(e,Object(N.f)(Object(N.e)(t)))})},updateFilter:function(e){s({type:"filterChange",filter:e})},submitFilters:m,clearFilters:function(){r(a)}}},L=a(3),F=a(50),M=a(83),U=a(11),A=a.n(U),I=a(12),H=a.n(I),J=a(43),V=a.n(J),W=a(14),B=a.n(W),z=a(15),G=a.n(z),K=a(7),Q=a.n(K);function X(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Q()(e);if(t){var r=Q()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return G()(this,a)}}var Y=function(e){B()(a,e);var t=X(a);function a(){return A()(this,a),t.apply(this,arguments)}return H()(a,[{key:"withValue",value:function(e){return new a({name:this.name,value:e})}},{key:"test",value:function(e){return V()(Q()(a.prototype),"test",this).call(this,[e.migration,e.plugin,e.text,e.solution])}}]),a}(a(84).a);function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Q()(e);if(t){var r=Q()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return G()(this,a)}}function $(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Q()(e);if(t){var r=Q()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return G()(this,a)}}var ee=function(e){B()(a,e);var t=$(a);function a(){return A()(this,a),t.apply(this,arguments)}return H()(a,[{key:"withValue",value:function(e){return new a({name:this.name,value:e})}},{key:"test",value:function(e){return V()(Q()(a.prototype),"test",this).call(this,e.solution)}}]),a}(function(e){B()(a,e);var t=Z(a);function a(){return A()(this,a),t.apply(this,arguments)}return H()(a,[{key:"test",value:function(e){return!this.value||!!e}}]),a}(a(85).a)),te=r.a.createContext({}),ae=function(e){var t=e.basepathDashboard,a=e.source,i=e.children,l=Object(n.useContext)(x).windowURL,o=Object(F.a)({href:a,uriTemplateParams:Object(N.e)(l),handleError:console.error}),s=o.isLoading,c=o.document,u=Object(n.useState)([]),m=_()(u,2),f=m[0],d=m[1],p=Object(n.useState)([]),b=_()(p,2),g=b[0],v=b[1],h=Object(M.a)({searchText:new Y({name:"searchText",value:""}),solutionOnly:new ee({name:"solutionOnly",value:!1})}),y=h.limiters,E=h.updateLimiter,O=Object(n.useState)(null),j=_()(O,2),w=j[0],R=j[1],P=S(),k=P.filters,T=P.setFields,C=P.updateFilter,q=P.submitFilters,D=P.clearFilters;return Object(n.useEffect)((function(){w&&T(w)}),[w]),Object(n.useEffect)((function(){if(c){var e=c.data,t=c.included,a=c.links,n=void 0===a?{}:a,r=Object(L.n)(n)[0];r&&R(r),d(e.map((function(e){return function(e,t){var a=e.id,n=e.attributes,r=e.relationships,i=e.links,l=n.datetime,o=n.severity,s=n.message,c=n.messageCategory,u=n.solution,m=r.sourceMigration,f=r.sourceMigrationPlugin,d=function(e,t){return e.data.hasOwnProperty("meta")?e.data.meta.label:t.find((function(t){return t.id===e.data.id})).attributes.label}(m,t),p=f.data.id;return{id:a,sourceId:i&&i.hasOwnProperty("source")?Object(L.B)(Object(L.e)(i.source,"meta.source-identifiers")):"",datetime:l,migration:d,plugin:p,type:c,severity:Object(L.e)(i,"severity.title")||o,text:s,solution:u}}(e,t)})))}}),[c]),Object(n.useEffect)((function(){v(f.filter((function(e){return Object.values(y).every((function(t){return t.test(e)}))})))}),[f,y]),r.a.createElement(te.Provider,{value:{basepathDashboard:t,messages:g,filters:k,updateFilter:C,submitFilters:q,clearFilters:D,limiters:y,updateLimiter:E,isLoading:s}},i)};ae.propTypes={basepathDashboard:s.a.string.isRequired,source:s.a.string.isRequired,children:s.a.oneOfType([s.a.arrayOf(s.a.node),s.a.node]).isRequired};var ne=function(e){var t=e.pending;return r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"7"},t?r.a.createElement(E.a,{message:"Loading…"}):r.a.createElement("em",null,"No Messages"))))},re=function(){var e=Object(c.useTracking)(),t=Object(n.useContext)(te),a=t.messages,i=t.isLoading;return Object(n.useEffect)((function(){setTimeout((function(){e.trackEvent({type:"User viewed messages console"})}),1e3)}),[]),r.a.createElement("div",{className:"messages__list"},a.length?r.a.createElement(f.a,null,a.map((function(e){return r.a.createElement(d.a,{key:e.id,timeout:500,in:!0,appear:!0},r.a.createElement(y,{message:e}))}))):r.a.createElement(ne,{pending:i}))};ne.propTypes={pending:s.a.bool},ne.defaultProps={pending:!1};var ie=a(66),le=a.n(ie),oe=function(e){var t=e.options,a=e.name,n=e.label,i=e.value,l=e.multiple,o=void 0!==l&&l,s=e.children,c=e.onChange;return r.a.createElement("div",{className:"form-item form-type--select form-item--select-".concat(o?"multiple":"single")},n&&r.a.createElement("label",{htmlFor:a,className:"form-item__label"},n),r.a.createElement("select",le()({name:a,className:"form-select form-element form-element--type-".concat(o?"select-multiple":"select"),onChange:c,value:i},o?{multiple:o}:void 0,s?{"aria-describedby":"".concat(a,"--description")}:void 0),r.a.createElement("option",{value:""},"--"),t.map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.label)}))),s&&r.a.createElement("div",{id:"".concat(a,"--description"),className:"form-item__description"},s))},se=oe;oe.propTypes={options:s.a.arrayOf(s.a.shape({label:s.a.string.isRequired,value:s.a.string.isRequired})),name:s.a.string.isRequired,label:s.a.string,value:s.a.string.isRequired,multiple:s.a.bool,children:s.a.oneOfType([s.a.arrayOf(s.a.node),s.a.node]),onChange:s.a.func.isRequired},oe.defaultProps={label:null,multiple:!1,options:[],children:null};var ce=a(47),ue=function(e){var t=e.field,a=e.update,n=t.field,i=t.label,l=t.operator,o=t.value,s=t.options,c=function(e){a({field:n,operator:l,value:e.target.value})};return r.a.createElement(r.a.Fragment,null,s?r.a.createElement(se,{label:i,name:n,value:o,options:s,onChange:c}):r.a.createElement(ce.a,{label:i,name:n,value:o,onChange:c}))},me=ue;ue.propTypes={field:s.a.shape({cardinality:s.a.number.isRequired,field:s.a.string.isRequired,label:s.a.string.isRequired,operator:s.a.string.isRequired,value:s.a.string,options:s.a.arrayOf(s.a.shape({label:s.a.string,value:s.a.string}))}).isRequired,update:s.a.func.isRequired};var fe=function(){var e=Object(n.useContext)(te),t=e.filters,a=e.updateFilter,i=e.clearFilters,l=t.fields;return l?r.a.createElement("form",{className:"messages__filters exposed-form"},l.map((function(e){return r.a.createElement(me,{key:e.field,field:e,update:a})})),r.a.createElement("div",{className:"form-actions form-item exposed-form__item--actions"},r.a.createElement("input",{onClick:function(e){e.preventDefault(),i(e)},className:"button form-submit",value:"Clear filters",type:"button"}))):r.a.createElement("div",{className:"ajax-progress ajax-progress--throbber",role:"status"},r.a.createElement("div",{className:"ajax-progress__throbber"}),r.a.createElement("div",{className:"ajax-progress__message"},"Loading…"))},de=function(e){var t=e.name,a=e.checked,n=e.disabled,i=e.label,l=e.description,o=e.toggle;return r.a.createElement("div",{className:"form-item form-type--checkbox form-type--boolean"},r.a.createElement("input",{type:"checkbox",className:"form-checkbox form-boolean form-boolean--type-checkbox",id:t,name:t,checked:a,disabled:n,onChange:function(){o()}}),i?r.a.createElement("label",{htmlFor:t,className:"form-item__label option ".concat(n?"is-disabled":"")},i):null,l?r.a.createElement("div",{className:"form-item__description ".concat(n?"is-disabled":"")},l):null)},pe=de;de.propTypes={name:s.a.string.isRequired,checked:s.a.bool.isRequired,disabled:s.a.bool,label:s.a.string,description:s.a.oneOfType([s.a.string,s.a.node]),toggle:s.a.func.isRequired},de.defaultProps={label:null,description:null,disabled:!1};var be=function(){var e=Object(n.useContext)(te),t=e.limiters,a=t.searchText,i=t.solutionOnly,l=e.updateLimiter;return r.a.createElement("div",{className:"message_limiter"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault()}},r.a.createElement(ce.a,{name:a.name,label:"Search for text",value:a.value,onChange:function(e){l(a.name,e.target.value)},type:"search",validation:{minLength:"3"}},"Limit messages to those that have matching text in any of these fields: ",r.a.createElement("em",null,"Migration"),", ",r.a.createElement("em",null,"Migration Plugin"),","," ",r.a.createElement("em",null,"Message"),", or ",r.a.createElement("em",null,"Solution"),"."),r.a.createElement(pe,{name:i.name,label:"Hide messages without a solution",checked:i.value,toggle:function(){l(i.name,!i.value)}})))},ge=a(8),ve=a(41),he=a(22),ye=a(33),Ee=function(){var e=Object(n.useContext)(te).basepathDashboard;return r.a.createElement("div",{className:"region-content"},r.a.createElement(m.a,null,r.a.createElement(ve.a,null,r.a.createElement(he.a,null,r.a.createElement(ge.a,{href:"../../",title:"Home"},"Home")),r.a.createElement(he.a,null,r.a.createElement(ge.a,{href:e,title:"Migrations"},"Migrations")),r.a.createElement(he.a,null,r.a.createElement("span",null,"Messages"))),r.a.createElement(ye.a,{title:"Messages"})),r.a.createElement("div",null,r.a.createElement(fe,null),r.a.createElement(be,null)),r.a.createElement("div",null,r.a.createElement(re,null)))},Oe=function(e){var t=e.basepathDashboard,a=e.source;return r.a.createElement("div",{className:"migrate-ui__messages"},r.a.createElement(P,null,r.a.createElement(ae,{source:a,basepathDashboard:t},r.a.createElement(Ee,null))))},_e=new l.a,je=u()({},{dispatch:function(e){return _e.logEvent(e)}})(Oe);Oe.propTypes={basepathDashboard:s.a.string.isRequired,source:s.a.string.isRequired};var we=a(48);document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector("#decoupled-page-root"),t=e.getAttribute("data-module-path");a.p="/".concat(t,"/ui/dist/");var n=e.getAttribute("data-basepath-dashboard"),o=e.getAttribute("data-source");(new l.a).init(e.getAttribute("data-tracking-api-key"),Object(we.a)(e),void 0),e&&Object(i.render)(r.a.createElement(je,{basepathDashboard:n,source:o}),e)}))}});